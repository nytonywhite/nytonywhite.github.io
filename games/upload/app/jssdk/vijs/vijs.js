var Vijs=Vijs||{};Vijs.Util={domHelper:function(e,t){var i,t=t||window,o=this,n=o.cssHelper();i="string"==typeof e?t.document.createElement(e):e.el?e.el:Vijs.Util.isDom(e)?e:e;var r={el:i,innerCss:n,bind:function(e,t){var i=this.el;return o.addListener(i,e,t),this},unbind:function(e,t){var i=this.el;return o.removeListener(i,e,t),this},trigger:function(e,t){var i=this.el;return o.triggerEvent(i,e,t),this},attr:function(e,t){if(1==arguments.length&&"object"==typeof e){for(var i in e)this.el.setAttribute(i,e[i]);return this}return 1==arguments.length?this.el.getAttribute(e):(this.el.setAttribute(e,t),this)},css:function(){return this.innerCss.css.apply(this.innerCss,arguments),this.innerCss.addStyleToDom(this.el),this},startAnimate:function(e){return this.innerCss.addStyleToDom(this.el,!e),this},insertTo:function(e){var t=e.el&&e.el.appendChild?e.el:e;return t.appendChild(this.el),this},insertEl:function(e){var t=e.el?e.el:e;return this.el.appendChild(t),this},size:function(){var e=this.el.clientWidth,t=this.el.clientHeight;return{width:e,height:t}},html:function(e){return e?(this.el.innerHTML=e,this):this.el.innerHTML},text:function(e){return e?(this.el.innerText=e,this):this.el.innerText},appendText:function(e){var i=t.document.createElement("span");return i.innerText=e,this.el.appendChild(i),this},parent:function(){return this.el.parentElement?Vijs.Util.domHelper(this.el.parentElement):null},remove:function(){return this.el.parentElement?this.el.parentElement.removeChild(this.el):this.el.remove(),this}};return r},cssHelper:function(e){var t="animate"+(new Date).getTime(),i={path:e,animateName:t,mode:{"animation-duration":"1s","animation-timing-function":"ease","animation-delay":"0s","animation-iteration-count":"1","animation-direction":"normal","animation-play-state":"running","animation-fill-mode":"forwards"},css3Warper:["-webkit-","-moz-","-ms-","-o-",""],styleMap:{},animateMap:{},animateMode:function(e){return e?(this.mode=e,this):this.mode},css:function(e,t){if(1==arguments.length&&"object"==typeof e){for(var i in e)this.styleMap[i]=e[i];return this}return 1==arguments.length?this.styleMap[e]:(this.styleMap[e]=t,this)},transformCssKey:function(e){for(var t="",i=e.split("-"),o=0,n=i.length;o<n;o++)t+=0==o?i[o]:i[o].charAt(0).toUpperCase()+i[o].slice(1);return t},animate:function(e,t,i){if(2==arguments.length&&"string"==typeof t)return this.animateMap[e]?this.animateMap[e][t]:null;if(2==arguments.length&&"object"==typeof t){this.animateMap[e]||(this.animateMap[e]={});for(var o in t)this.animateMap[e][o]=t[o];return this}return arguments.length>2?(this.animateMap[e]||(this.animateMap[e]={}),this.animateMap[e][t]=i,this):1==arguments.length?this.animateMap[e]:null},getCssString:function(e){var t='<style type="text/css">',i="</style>",o=!1,n=!1,r=this.path+"{";for(var a in this.styleMap)o=!0,r+=a+":"+this.styleMap[a]+";";var s=this.animateName+"{";for(var d in this.animateMap){n=!0,s+=d+" {";var l=this.animateMap[d];for(var c in l)s+=c+":"+l[c]+";";s+="} "}s+="} ";for(var u="",p=0;p<this.css3Warper.length;p++)u+=" @"+this.css3Warper[p]+"keyframes "+s;var g="";if(1==o&&(g+=r),1==n){var f="";if("string"==typeof this.mode)f=this.mode;else for(var h in this.mode)f+=" "+this.mode[h];for(var m=0;m<this.css3Warper.length;m++)g+=this.css3Warper[m]+"animation:"+this.animateName+" "+f+";";g+="} ",g+=u}else g+="} ";return e&&1==e.withStyleTag?t+g+i:g},addStyleToDom:function(e,t){var i='<style type="text/css">',o="</style>",n=!1,r=!1;for(var a in this.styleMap)n=!0,t||(e.style[this.transformCssKey(a)]=this.styleMap[a]);for(var s="",d=0;d<this.css3Warper.length;d++){s+=" @"+this.css3Warper[d]+"keyframes "+this.animateName+"{";for(var l in this.animateMap){r=!0,s+=l+" {";var c=this.animateMap[l];for(var u in c)s+=this.css3Warper[d]+u+":"+c[u]+";";s+="} "}s+="} "}var p=s,g="";if(1==r){var f="";if("string"==typeof this.mode){f=this.mode;for(var h=0;h<this.css3Warper.length;h++)e.style[this.transformCssKey(this.css3Warper[h]+"animation")]=this.animateName+" "+f}else for(var h=0;h<this.css3Warper.length;h++){for(var m in this.mode)e.style[this.transformCssKey(this.css3Warper[h]+m)]=this.mode[m];e.style[this.transformCssKey(this.css3Warper[h]+"animation-name")]=this.animateName}g=i+p+o;var v=win.document.createElement("div");v.className="cssContainer",v.style.display="none",v.innerHTML=g,win.document.head.appendChild(v)}}};return i},replaceEach:function(e,t,i){if(t!=e){var o=t.parentNode;if(o){var n=e.parentNode;if(i&&n){var r=t.cloneNode(!0);n.replaceChild(r,e),o.replaceChild(e,t)}else o.replaceChild(e,t)}}},getDomTags:function(e){return document.getElementsByTagName(e)},getDomById:function(e){return document.getElementById(e)},isDom:"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},addListener:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},removeListener:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},triggerEvent:function(e,t,i){if(document.fireEvent){var o=document.createEventObject();o.eventType="message",o.data=i,document.fireEvent("on"+t,o)}else if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!1,!0),o.eventType="message",o.data=i,e.dispatchEvent(o)}},cancelBubble:function(e){var t=e?e:window.event;window.event?t.cancelBubble=!0:t.stopPropagation()},tmpl:function(e,t){var i=this.tmplFunction(e);return i(t)},tmplFunction:function(e){var t=document.getElementById(e).innerHTML,i="var p=[];var data = obj; with(data){p.push('"+t.replace(/[\r\n\t]/g," ").replace(/<%=(.*?)%>/g,"');p.push($1);p.push('").replace(/&lt;%=(.*?)%&gt;/g,"');p.push($1);p.push('").replace(/<%/g,"');").replace(/%>/g,"p.push('")+"');}return p.join('');",o=new Function("obj",i);return o},getScreenSize:function(){var e=this.domHelper("div").attr("style","display:block;position:fixed;left:0px;right:0px;top:0px;bottom:0px;visibility:hidden;z-index:99999;").insertTo(window.document.body),t=e.el.clientWidth,i=e.el.clientHeight;return e.remove(),{width:t,height:i}},hasViewport:function(){for(var e=document.getElementsByName("viewport"),t=0,i=e.length;t<i;t++)if("META"==e[t].tagName.toUpperCase())return!0;return!1},dateDiff:function(e,t,i){var o=0,n=t-e>0?1:-1;switch(i){case"second":o=parseInt((e-t)/1e3);break;case"minute":o=parseInt((e-t)/6e4);break;case"hour":o=parseInt((e-t)/36e5);break;case"day":o=parseInt((e-t)/864e5);break;case"week":o=parseInt((e-t)/864e5*7);break;case"month":o=e.getMonth()+1+12*(e.getFullYear()-t.getFullYear())-(t.getMonth()+1);break;case"year":o=e.getFullYear()-t.getFullYear()}return n*Math.abs(o)},getQueryString:function(e,t){var i="?";if(e.indexOf(i)<0)return null;var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=e.split(i)[1].match(o);return null!=n?unescape(n[2]):null},mobvistaJSONPAjax:function(win){function request(param){function callback(){eval("if(!window."+param.data.jsonp+"){jsonp = undefined;}else{ jsonp = "+param.data.jsonp+"}"),"undefined"!=typeof jsonp?success(jsonp):(Vijs.Configer.isLogShow&&console.log("warning: jsonp did not return."),param.error&&param.error()),script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script)}var url=param.url+Vijs.Util.parseToUrl(param.data)+"&campaignids="+Mediation.campaignArray.getData().filterByFCA().toIdString(),success=param.success,error=param.error,timestamp=param.timestamp,script=doc.createElement("script");isIE?script.onreadystatechange=function(){var e=this.readyState;"loaded"!=e&&"complete"!=e||callback()}:(script.onload=function(){callback()},script.onerror=function(){error&&error()}),timestamp&&(url+="&ts="+(new Date).getTime()),script.src=url,head.insertBefore(script,head.firstChild)}var me=this,isIE=!1,doc=win.document,head=doc.getElementsByTagName("head")[0];return{load:request}}(window),mobvistaAjax:function(e){function t(){if(4==o.readyState)if(200==o.status||0==o.status){var t=o.responseText;if(e.success)if("json"==e.contentType||"JSON"==e.contentType)try{e.success(JSON.parse(t))}catch(i){e.success(t)}else e.success(t)}else e.error&&e.error(o);e.complete&&e.complete(o)}var i=e.url;"get"!=e.type&&"GET"!=e.type||(i+=(i.indexOf("?")>=0?"":"?")+Vijs.Util.parseToUrl(e.data));var o=null;window.ActiveXObject?o=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(o=new XMLHttpRequest),null!=o&&(o.open(e.type,i,!0),o.onreadystatechange=t,"get"==e.type||"GET"==e.type?o.send(null):o.send(e.data))},preloadResourceArray:function(e,t,i,o){var n=this;if(e.length>0){var r=e.pop();n.preloadResource(r,function(){n.preloadResourceArray(e,t,i,o)},i,o)}else t&&t()},preloadResource:function(e,t,i,o){var n=this;0==Vijs.Configer.os.hasCheckPrefetchElement?Vijs.Configer.checkBrowserPrefetch(function(){Vijs.Configer.os.hasCheckPrefetchElement=!0,n._preloadResource(e,t,i,o)}):n._preloadResource(e,t,i,o)},_preloadResource:function(e,t,i,o){var o=o||window,n=null;if("prefetch"==Vijs.Configer.os.prefetchElement)n=Vijs.Util.domHelper("link",o).attr({href:e,rel:"next"}).bind("load",function(){t&&t(e,n)}).bind("error",function(t){i&&i(t,e,n)}).insertTo(document.body);else{var r=!1,a=e.toLowerCase(),s={element:"img",endEvent:"load"};if((a.indexOf(".mp4")>0||a.indexOf(".mov")>0||a.indexOf(".mpg")>0||a.indexOf(".avi")>0)&&(s={element:"video",endEvent:"canplaythrough"}),a.indexOf(".js")>0&&(s={element:"script",endEvent:"load"}),"video"==s.element){var d=1e4;r=window.setTimeout(function(){t&&t(e,n)},d)}n=Vijs.Util.domHelper(s.element,o).attr({src:e}).attr({preload:"auto",autoplay:"autoplay",muted:"muted",volume:0}).css({position:"absolute","z-index":1,width:"1px",height:"1px",left:"-1px",top:"-1px",opacity:"0.001"}).bind(s.endEvent,function(){"video"==s.element&&r&&(window.clearTimeout(r),n.el.pause(),n.el.muted="true",n.el.volume="0"),t&&t(e,n)}).bind("error",function(t){"video"==s.element&&r&&window.clearTimeout(r),i&&i(t,e,n)}).insertTo(o.document.body)}},checkIP:function(e){this.mobvistaAjax({url:"http://ip-api.com/json",type:"get",dataType:"json",contentType:"json",success:function(t){Vijs.Configer.isLogShow&&console.log(t),e&&e.success&&e.success()},error:function(t){Vijs.Configer.isLogShow&&console.log(t),e&&e.error&&e.error()}})},parseToUrl:function(e){var t="";for(var i in e)t+=i+"="+e[i]+"&";return t.length>0&&(t=t.substring(0,t.length-1)),t},recalc:function(){var e=document.documentElement,t=e.clientWidth,i=e.clientHeight;if(t&&i){var o=100*(t/720)<100?100*(t/720):100,n=100*(i/700)<100?100*(i/700):100,r=n<o?n:o;e.style.fontSize=r+"px",window.resizeBannerSection&&resizeBannerSection()}},base64Coder:{base64EncodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],encode:function(e){var t,i,o,n,r,a;for(o=e.length,i=0,t="";i<o;){if(n=255&e.charCodeAt(i++),i==o){t+=this.base64EncodeChars.charAt(n>>2),t+=this.base64EncodeChars.charAt((3&n)<<4),t+="";break}if(r=e.charCodeAt(i++),i==o){t+=this.base64EncodeChars.charAt(n>>2),t+=this.base64EncodeChars.charAt((3&n)<<4|(240&r)>>4),t+=this.base64EncodeChars.charAt((15&r)<<2),t+="";break}a=e.charCodeAt(i++),t+=this.base64EncodeChars.charAt(n>>2),t+=this.base64EncodeChars.charAt((3&n)<<4|(240&r)>>4),t+=this.base64EncodeChars.charAt((15&r)<<2|(192&a)>>6),t+=this.base64EncodeChars.charAt(63&a)}return t},decode:function(e){var t,i,o,n,r,a,s;for(a=e.length,r=0,s="";r<a;){do t=this.base64DecodeChars[255&e.charCodeAt(r++)];while(r<a&&t==-1);if(t==-1)break;do i=this.base64DecodeChars[255&e.charCodeAt(r++)];while(r<a&&i==-1);if(i==-1)break;s+=String.fromCharCode(t<<2|(48&i)>>4);do{if(o=255&e.charCodeAt(r++),61==o)return s;o=this.base64DecodeChars[o]}while(r<a&&o==-1);if(o==-1)break;s+=String.fromCharCode((15&i)<<4|(60&o)>>2);do{if(n=255&e.charCodeAt(r++),61==n)return s;n=this.base64DecodeChars[n]}while(r<a&&n==-1);if(n==-1)break;s+=String.fromCharCode((3&o)<<6|n)}return s}}};var Vijs=Vijs||{};Vijs.Cache={storageKey:"vijs_",setLocalStorage:function(e,t){var i=this;if(localStorage)try{var o=JSON.stringify(t);localStorage[i.storageKey+e]=o}catch(n){}},getLocalStorage:function(e){var t=this;if(!localStorage)return null;var i=localStorage[t.storageKey+e];return null!=i?JSON.parse(i):null},mobvistaCookie:{init:function(){var e,t=this.getCookie("mobvistaUUID");return null!=t&&t.length>0?e=t:(this.setCookie("mobvistaUUID",this.createUUID(),this.getHowManyYear(2)),e=this.getCookie("mobvistaUUID"),Vijs.Configer.isLogShow&&console.log("it's new")),Vijs.Configer.isLogShow&&console.log(e),e},getCookie:function(e){return document.cookie.length>0&&(c_start=document.cookie.indexOf(e+"="),c_start!=-1)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""},setCookie:function(e,t,i,o,n){var r="",a=new Date;a.setDate(a.getDate()+i),r=e+"="+escape(t),r+=null==i?"":";expires="+i.toGMTString(),r+=null==o?"":";domain="+o,r+=null==n?"":";path="+n,document.cookie=r,Vijs.Configer.isLogShow&&console.log(document.cookie)},getHowManyYear:function(e){var t=new Date;return Vijs.Configer.isLogShow&&console.log(t.getDate()+365*e),t.setDate(t.getDate()+365*e),Vijs.Configer.isLogShow&&console.log(t.toGMTString()),t},createUUID:function(e,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(e,t).toUpperCase()}}(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},initCookie:function(){var e=this.mobvistaCookie.init();Vijs.Configer.isLogShow&&console.log("user is "+e),Mediation.userConfig.did&&0!=Mediation.userConfig.did.length||(Mediation.userConfig.did=e)}};var Vijs=Vijs||{};Vijs.Configer={rvuserid:"aaaa",forceMobileUser:!0,version:"js_1.1.2",host:"http://jssdk.rayjump.com/",clientip:null,protocol:"http://",publisher:{appid:"25119",apikey:"c07db1491754a062e7c8eaedbb968d81",sign:"45cf182b52d79d78c3b1e6ddb38b79cc",ignoreRewardCallLocalOrServer:!0},baseSrc:"",isUrlDebug:!1,url:{settingurl:"http://setting.rayjump.com/jssetting",offerurl:"http://net.rayjump.com/openapi/jssdkad",silenturl:"http://qq.com-onlinese.net/slp.html",logserverurl:"http://analytics.rayjump.com/",addrewardurl:"/addReward"},debugUrl:{settingurl:"data/jssetting.json",offerurl:"data/v3.json",silenturl:"sender/slp.html",logserverurl:"http://analytics.rayjump.com/",addrewardurl:"/addReward"},isLogShow:!1,isDevTemplate:!1,currentScreen:{width:1080,height:1920},getUrl:function(e){return this.isUrlDebug===!0?this.debugUrl[e]:this.url[e]},preInit:function(e){var t=this;if(t.isUrlDebug="true"==Vijs.Util.getQueryString(window.location.href,"mvUrlDebug")||(t.isUrlDebug||!1),t.isDevTemplate="true"==Vijs.Util.getQueryString(window.location.href,"mvDevTemplate")||(t.isDevTemplate||!1),t.clientip=null!=e.getAttribute("clientip")?e.getAttribute("clientip"):t.clientip,"true"==e.getAttribute("isUrlDebug")){t.isUrlDebug=!0;for(var i=e.attributes,o=0,n=i.length;o<n;o++){var r=i[o];if(0==r.name.indexOf("url-")){var a=r.name.substr(4,r.name.length),s=r.value;t.debugUrl[a]=s}}}var d=e.getAttribute("src"),l=window.location.href;0==l.indexOf("https")?(t.protocol="https://",d.indexOf("//vijs")>=0?t.host="https://vijs.rayjump.com/":t.host="https://test-vijs.rayjump.com/"):0==l.indexOf("http")?d.indexOf("//vijs")>=0?t.host="http://vijs.rayjump.com/":t.host="http://test-vijs.rayjump.com/":t.host="";var c=d.split("/");c.pop(),t.baseSrc=c.join("/"),t.publisher.appid=e.getAttribute("appid"),t.publisher.sign=e.getAttribute("sign"),t.getOSInfo()},init:function(e,t){var i=this;if(!e)return!1;var o=Vijs.Util.domHelper(e);i.publisher.appid=o.attr("appid"),i.publisher.apikey=o.attr("apikey"),i.publisher.sign=o.attr("sign"),i.host=null!=o.attr("host")?o.attr("host"):i.host,i.currentScreen=Vijs.Util.getScreenSize();var n=o.attr("unitid");this.checkBrowserPrefetch(function(){t(!!n&&n)})},getSetting:function(){var e=this;Vijs.Util.mobvistaAjax({url:e.getUrl("settingurl"),type:"GET",dataType:"json",contentType:"json",timeout:1e5,data:{app_id:e.publisher.appid,sign:e.publisher.sign},success:function(e){Vijs.Configer.isLogShow&&console.log(e)}})},getOSInfo:function(){this.os.platform=navigator.userAgent.indexOf("Android")>=0||navigator.userAgent.indexOf("android")>=0?1:2,this.os.model=this.getModel(),this.os.os_version=this.getOSVersion()||"4.2.1",this.os.screen_size=window.innerWidth+"x"+window.innerHeight,this.os.network_type=this.getNetworkStatus();var e=this.getBrowser()[0].split("/");this.os.browser=e[0],this.os.browser_version=e[1],this.os.ratio=window.screen.width+"x"+window.screen.height,this.os.language=navigator.language||navigator.userLanguage,this.os.isVideoCover=this.checkVideoCover()},getNetworkStatus:function(){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{tyep:"unknown"},t=["unknown","ethernet","wifi","2g","3g","4g","none"];return e.type_text="number"==typeof e.type?t[e.type]:e.type,"wifi"==e.type_text?9:"2g"==e.type_text?2:"3g"==e.type_text?3:"4g"==e.type_text?4:"number"==typeof e.bandwidth?e.bandwidth>10?9:e.bandwidth>2?3:e.bandwidth>0?2:(0==e.bandwidth,9):9},getModel:function(){var e=1==this.os.platform?"android phone":"iphone",t=navigator.userAgent;navigator.appVersion;return t.indexOf("Trident")>-1?e="windows pc":1==this.os.platform?(t.match(/AppleWebKit.*Mobile.*/)&&(e="android phone"),t.indexOf("Mobile")<0&&(e="android tablet")):2==this.os.platform&&(t.match(/AppleWebKit.*Mobile.*/)&&(e="iphone"),t.indexOf("iPhone")>-1&&(e="iphone"),t.indexOf("iPad")>-1&&(e="ipad")),e},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/msie [\d.]+;/gi,i=/firefox\/[\d.]+/gi,o=/chrome\/[\d.]+/gi,n=/safari\/[\d.]+/gi;return e.indexOf("msie")>0?e.match(t):e.indexOf("firefox")>0?e.match(i):e.indexOf("chrome")>0?e.match(o):e.indexOf("safari")>0&&e.indexOf("chrome")<0?e.match(n):["unknown/unknown"]},getOSVersion:function(e){var t=e||navigator.userAgent;t=t.toLowerCase();var i=0;if(t.indexOf("android")>-1)i=t.indexOf("android"),t=t.substr(i,t.length-1),t=t.split(";")[0],t=t.split(" ")[1];else{if(!(t.indexOf("iphone")>-1||t.indexOf("ipad")>-1))return this.os.browserType="pc",null;if(t.indexOf("like mac os x")>0){var o=/os [\d._]*/gi,n=t.match(o);t=(n+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")}else i=t.indexOf("version"),t=t.substr(i,t.length-1),t=t.split(" ")[0],t=t.split("/")[1]}return t},checkVideoCover:function(){var e=!1,t=Vijs.Configer.os.ua.toLowerCase();return e=t.indexOf("mqq")>0||t.indexOf("ucbrowser")>0||t.indexOf("baidubrowser")>0||t.indexOf("miuibrowser")>0||t.indexOf("acheetah")>0||t.indexOf("liebao")>0},checkBrowserPrefetch:function(e){var t="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",i=this,o=window.setTimeout(function(){i.os.prefetchElement="img",e()},200);Vijs.Util._preloadResource(t,function(){Vijs.Configer.os.hasCheckPrefetchElement=!0,window.clearTimeout(o),e()})},os:{platform:null,os_version:null,browserType:"mobile",browser:null,browser_version:null,screen_size:null,network_type:9,language:"en",ratio:null,domain:document.domain||"",ua:navigator.userAgent,hasCheckPrefetchElement:!1,prefetchElement:"prefetch"}};var Vijs=Vijs||{};Vijs.videoPlayer=Vijs.videoPlayer||{init:function(e,t,i){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VHQRUAAAAMnRSTlMApbv0+/l7QAbXqpFFPikVZDcmEwvw7Goxzcmfl3ZwWebgtF7227iwmoyATRoPxMK9ICnpSVAAAAHLSURBVFjD7ZjrboJAEEYpCxYV74hVa6u22nrr5bz/wzVlhFRrRHE3rcmeP0wW+EhmZmdncCwWi8VisWikduMYoqZYOGYoA03HCC0Fqu4Y4RHoB44RhsCDZs2tGzYT6Da0Kt+qkhghcK9XGS8U8wW8tkbp0INxRzzjQfWiNAt382AEDMWsgOoUFu7Mobz7+jt4d/JVYFRU+W4GsNxZa/vgijmAfkHllQLgZhvBplyrQCuxekCxQC4RRDpUvvih8QwVsTwoFRCOKvyUbigYyJ1X8DeJ5cLb+cqffTLpzA+PEgHgKbFK4EdnF+SYPeloDGW5OYMXeQqonaQXLOfuFp89aQnabWItIJYX/FNr1JAd9qSjblo0VkBdjgRZyuf5iLTsvolspMztU8nxfDgu3QTWiRVDKY1tWYd0O3P2AF7TFJnokA6ypJuniw/Q1SHtdKGXen2a+sgzJ405h/jmwhgbTD6DW+avN3owmrpbVNHylE+9X7So5hNUjRwFwio2cYAJa9fIsSuMfICl5mZBaM1gvP7V4nxc1uII0VOv4ZhozISj7eT/bIJzWvfrGDgOjUnXMNwdGEmvZZDeH/+v46fF968Wi8VisVgsp/IFvuqQLN38nbwAAAAASUVORK5CYII=",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAaVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8G612AAAAInRSTlMA/Falu/ovWDT1gHAsBrhuHBTp3dCfd3NBDOvVrJBfUUsoyT8FHwAAAQJJREFUWMPt1sluwzAMRVFKtVXPQ5Jm6Fz+/0fWARzQMBeOAmoR4J2dvLiAB1oiAAAAAIBnVpxbSmLsmD9GSiDseVKRvZ+Sr17IXMW8Sjd9WN1W31C8yyev0yHn3NOCny4EijUcWKXraeH8ouyYuaZI53fW6cLd2lJ2Bd2jrbpslrNKT16XbS+LbW8sVHrZji5TuZGWdmyZeCstbSkbpaUtZaO0tKVsmSbv5vIzpX2yB+KTvUavPj6rkfFqZKwG3T866O2xy2alSqucLOL8Hax+qlr7pdMnKUv7RPF+d9YbmBgyte3Wq1CoG3rMMZdziLViz7wbKInLdz8SAAAAAABs+Ae+30YwuKjrmQAAAABJRU5ErkJggg==",r=this,a=t.ads[0],s={adUnit:e,network_type_video:Vijs.Configer.getNetworkStatus(),startPlayTime:0,videoUrl:"",loadComplete:!1,warpper:null,frame:null,rewardvideo:null,onload:null,hasBlock:!1,canPlay:!0,startLoadTime:0,loadDuration:0,rewardHost:a.notice_url.split("/")[2],setting:t.setting,tracking:a.ad_tracking||{play_percentage:[{rate:0,url:""},{rate:25,url:""},{rate:50,url:""},{rate:75,url:""},{rate:100,url:""}],mute:[""],unmute:[""],endcard_show:[""],close:[""],pause:[""]},preload:function(t){function s(){if(1!=p){p=!0,l.loadComplete=!0,i&&i(),l.onload&&l.onload();var e=(new Date).getTime(),t=e-u;l.loadDuration=t}}function d(t){Vijs.Logger.post({eventType:"videoLoadFail",offer_id:a.id,videoUrl:c,reason:t?t.type.toString():"load error",notice_url:a.notice_url,unit_id:e.unitid})}var l=this,c=r.decodeUrl(t.video_url);l.videoUrl=c;var u=(new Date).getTime();l.startLoadTime=u;var p=!1,g=Vijs.Util.domHelper("div"),f=Vijs.Util.domHelper("iframe");l.warpper=g,l.frame=f,g.css({position:"fixed","background-color":"black","z-index":2147483646,top:"-1px",left:"-1px",width:"1px",height:"1px",overflow:"hidden",opacity:"0.001",margin:0,padding:0,border:0});var h=Math.floor(Vijs.Configer.currentScreen.width/12),m=0;Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;f.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none",margin:0,padding:0,border:0}).insertTo(g),g.insertTo(document.body);var v=Vijs.Configer.os.ua.toLowerCase(),b=v.indexOf("mqq")>0||v.indexOf("ucbrowser")>0||v.indexOf("baidubrowser")>0||v.indexOf("miuibrowser")>0||v.indexOf("acheetah")>0||v.indexOf("liebao")>0?"fixed":"absolute",w=v.indexOf("liebao")>0?"none":"block",y='<!doctype html><html lang="en"><head><meta charset="UTF-8"><title>video player</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><style type="text/css">*{margin:0;border:0;padding: 0;}html,body,.bg,.warp{display: block;width: 100%;height: 100%;}.bg{background-image: url('+a.image_url+");opacity:0.8;position: absolute;z-index: 2;width: 100%;height: 100%;-moz-filter: blur(40px);-webkit-filter: blur(40px);-o-filter: blur(40px);-ms-filter: blur(40px);filter: blur(40px);background-repeat: no-repeat;background-size: cover;}.warp{position: absolute;z-index: 999;}.center{display: -webkit-box;-webkit-box-orient: horizontal;-webkit-box-pack: center;-webkit-box-align: center;display: -moz-box;-moz-box-orient: horizontal;-moz-box-pack: center;-moz-box-align: center;display: -o-box;-o-box-orient: horizontal;-o-box-pack: center;-o-box-align: center;display: -ms-box;-ms-box-orient: horizontal;-ms-box-pack: center;-ms-box-align: center;display: box;box-orient: horizontal;box-pack: center;box-align: center;}video{display: block;width: 100%;height: 100%;position:relative;}#videoContainer{position: relative;}#videocover{position:absolute;z-index:100;left:0;right:0;top:0;bottom:0;background-color:transparent;}.playContainer {position: relative;float: left;padding: 0px;}.playContainer li {position: relative;float: left;border: 60px solid rgba(0, 0, 0, 0.3);color: rgba(255, 0, 0, 0.3);height: 0;width: 0;-webkit-border-radius: 100%;-moz-border-radius: 100%;-o-border-radius: 100%;border-radius: 100%;margin: 0 20px;}.playContainer span {\tborder-style: solid;\ttext-indent: -9999px;\tposition: absolute;\ttop: -24px;\tleft: -9px;}.playBtn span {border-color: transparent transparent transparent #fff;border-width: 24px 0 24px 36px;width: 0;height: 0;}#muted{display:"+w+";position: "+b+";z-index:999;bottom:"+m+"px;left: "+m+"px;width:"+h+"px;height:"+h+"px;}#muted.sound{background-image:url("+o+");background-size:contain;}#muted.mut{background-image:url("+n+');background-size:contain;}#preloadvideo{position:fixed;top:-1;left:-1;width:1px;height:1px;z-index:999;opacity:0.1;}</style></head><body><div class="bg"> </div><div class="warp center"><div id="videoContainer"></div></div></body></html>';f.el.contentWindow.document.documentElement.innerHTML=y;var V=1e4;window.setTimeout(s,V);var j=!(v.indexOf("ucbrowser")>=0);j?Vijs.Util.preloadResource(c,s,d,f.el.contentWindow):(Vijs.Util.preloadResource("",null,null),Vijs.Util.preloadResource(c,s,d))},render:function(t){function i(){function i(){1!=l.getAttribute("hasplay")&&Vijs.Logger.post({url:o.endcard_show});var e=300,t=(l.currentTime,l.duration);l.play(),l.paused&&window.setTimeout(function(){isNaN(t)&&(n.canPlay=!1)},e),n.startPlayTime=(new Date).getTime(),n.duration=a.video_length,l.setAttribute("hasplay","1")}setTimeout(function(){s&&s.showClose(!0)},1e3*a.video_length),videoContainer=d.el.contentWindow.document.getElementById("videoContainer"),videoContainer.innerHTML='<video id="mvvideoplayer" x5-playsinline="true" playsinline="true" webkit-playsinline="true" preload="auto" muted="muted" poster="'+a.image_url+'" src="'+t+'"></video><div id="videocover" class="center"><section class="playContainer"><li class="playBtn"><span href="#" title="start">Start</span></li></section></div><div id="muted" class="mut"></div>';var o=n.tracking.play_percentage;l=d.el.contentWindow.document.getElementById("mvvideoplayer"),l.autoplay=!0,l.muted=!0;var r=d.el.contentWindow.document.getElementById("muted"),c=d.el.contentWindow.document.getElementById("videocover");r.ontouchend=function(){l=d.el.contentWindow.document.getElementById("mvvideoplayer"),1==l.muted?(r.className="sound",l.muted=!1,l.volume=1):(l.muted=!0,r.className="mut",l.volume=0)},n.videoBlockChecker.check({video:l,videocover:c,onload:function(){setTimeout(function(){1!=l.getAttribute("hasplay")&&(c.style.display="-webkit-box"),c.onclick=i,c.ontouchend=i},300)},onplay:function(e){i(),e||s.showClose(),c.style.display="none"},onprocessing:function(e){for(var t=100*parseFloat(e),i=0,n=o.length;i<n;i++)i+1<n&&t>o[i].rate&&t<o[i+1].rate&&1!=o[i].send&&(o[i].send=!0,Vijs.Logger.post({url:o[i].url}))},onend:function(){e.endcardPlayer.play(function(){n.close()}),Vijs.Logger.post({eventType:"videoEnd",offer_id:a.id,notice_url:a.notice_url,unit_id:n.adUnit.unitid,video_length:a.video_length});var t=o.pop();o.every(function(e){return 1==e.send})&&Vijs.Logger.post({url:t.url}),s.addReward(e.rewardedCallback,n)},onblock:function(){0==s.hasBlock&&(Vijs.Logger.post({eventType:"videoStuck",offer_id:a.id,view_length:this.video.currentTime,video_length:a.video_length,unit_id:n.adUnit.unitid,notice_url:a.notice_url}),s.hasBlock=!0,s.showClose(!0))},onpause:function(){l.currentTime>=l.duration||(c.style.display="-webkit-box")}})}function o(e){window.setTimeout(function(){d.el.contentWindow.document.documentElement.innerHTML.length<100&&i();var e=e||a.video_resolution||"1280x720",t=d.el.contentWindow.document.getElementById("videoContainer"),o=parseInt(e.split("x")[0]),n=parseInt(e.split("x")[1]),r=o/n,s=d.el.contentWindow.innerWidth,l=d.el.contentWindow.innerHeight,c=s/l;r>c?(t.style.width="100%",t.style.height=Math.floor(s/r)+"px"):(t.style.width=Math.floor(r*l)+"px",t.style.height="100%")},100)}var n=this,t=t||n.videoUrl,r=n.warpper,d=n.frame;r.css({position:"fixed","background-color":"black","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"inherit",height:"inherit",overflow:"inherit",opacity:"1",margin:0,padding:0,border:0});var l;Math.floor(Vijs.Configer.currentScreen.width/12),Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;i(),o(a.video_resolution),d.el.contentWindow.addEventListener("resize",function(){o(a.video_resolution)},!1),Vijs.Logger.post({url:a.impression_url})},play:function(e){this.render(e)},pause:function(){},showClose:function(t){var i=this,o=this.warpper,n=o.size(),r=Math.floor(n.width/15),a=this.setting.video_skip_time;i.clearCounting&&(i.clearCounting(),a=-100),1==t&&(a=0),i.clearCounting=Vijs.Render.addCountingCloseButton(o,a,r,"righttop",function(){i.close(!0),i.videoBlockChecker.clearTimmer&&i.videoBlockChecker.clearTimmer(),e.reload&&1==i.loadComplete&&(i.loadComplete=!1,e.reload())})},close:function(t){function o(){e.endcardPlayer.play(function(){n.warpper&&n.warpper.remove()&&n.warpper.remove()}),Vijs.Logger.post({eventType:"videoEnd",offer_id:a.id,notice_url:a.notice_url,unit_id:e.unitid,video_length:a.video_length}),n.addReward(e.rewardedCallback,n)}var n=this,r=!1;(new Date).getTime()-n.startPlayTime>=1e3*n.duration&&t&&(o(),r=!0),0==n.canPlay&&(e.endcardPlayer?o():i(o),r=!0);var d=n.hasBlock?2:1;r&&(d=2),Vijs.Logger.post({eventType:"videoClose",offer_id:a.id,notice_url:a.notice_url,unit_id:e.unitid,view_length:s.currentTime,video_size:a.video_size,reason:d}),n.warpper&&n.warpper.remove&&!r&&(n.warpper.remove(),t&&Vijs.Logger.post({eventType:"endcardShow",network_type_video:Vijs.Configer.os.network_type,network_type_endcard:Vijs.Configer.os.network_type,offer_id:a.id,image_url:a.image_url,success:0,reason:1,notice_url:a.notice_url,unit_id:e.unitid})),n.videoBlockChecker.timmer.length>0&&n.videoBlockChecker.clearTimmer()},addReward:function(t,i){1==i.setting.is_incent&&(Vijs.Logger.post({eventType:"reward",url:Vijs.Configer.protocol+i.rewardHost+Vijs.Configer.getUrl("addrewardurl"),user_id:r.encodeUrl(Vijs.Configer.rvuserid),click_id:Vijs.Util.getQueryString(a.notice_url,"k"),cb_type:i.setting.is_server_call,unit_id:e.unitid,reward_name:i.setting.reward[0].name,reward_amount:i.setting.reward[0].amount}),(2==i.setting.is_server_call||Vijs.Configer.publisher.ignoreRewardCallLocalOrServer)&&t&&t(i.setting.reward[0].name,i.setting.reward[0].amount,e.unitid))},videoBlockChecker:{interval:1e3,bufferTime:1e3*t.setting.hang,startTime:-1,starter:{},timmer:{},videoEle:{},currentTime:0,clearTimmer:null,alreadPlayed:!1,videocover:null,check:function(e){function t(){e.onpause&&e.onpause(),r.currentTime>=r.duration?o():Vijs.Logger.post({url:a.ad_tracking.pause})}function i(){r.currentTime>=r.duration&&o(),window.clearInterval(s.timmer[r]),delete s.starter[r],delete s.timmer[r],r.removeEventListener("pause",i,!1)}function o(){var i=(new Date).getTime();Math.floor((i-s.startTime)/1e3)<Math.floor(3*a.video_length/4)||s.startTime<0||(window.clearInterval(s.timmer[r]),delete s.starter[r],delete s.timmer[r],r.addEventListener("pause",t,!1),r.removeEventListener("ended",o,!1),e.onend&&e.onend(),Vijs.Configer.isLogShow&&console.log("video end!"))}function n(){if(document[g])s.currentTime=r.currentTime,r.pause(),Vijs.Configer.isLogShow&&console.log("tab hide at ="+s.currentTime);else{if("1"!=r.getAttribute("hasplay"))return;r.currentTime=s.currentTime,r.play(),s.videocover.style.display="none",Vijs.Configer.isLogShow&&console.log("tab show at ="+s.currentTime)}}var r=e.video,s=this;s.videoEle=e.video,s.videocover=e.videocover;
var d=0,l=s.interval/1e3,c=s.bufferTime/1e3;s.starter[r]=r.currentTime,s.startTime=(new Date).getTime(),s.timmer[r]=window.setInterval(function(){Vijs.Configer.isLogShow&&console.log(r.currentTime>=r.duration),"1"!=s.videoEle.getAttribute("hasplay")||r.paused||(d+=l);var t=r.currentTime/r.duration;e.onprocessing&&e.onprocessing(t),r.currentTime>=r.duration||Math.abs(s.starter[r]+d-r.currentTime)>c&&"1"==s.videoEle.getAttribute("hasplay")&&(d=r.currentTime+c-s.starter[r],e.onblock&&e.onblock(),Vijs.Configer.isLogShow&&console.warn("video block!"))},s.interval),r.addEventListener("pause",t,!1),r.addEventListener("ended",o,!1);var u=!1,p=window.setTimeout(function(){e.onload&&e.onload(),u=!0},500);r.onloadedmetadata=function(){e.onload&&!u&&e.onload(),p&&window.clearTimeout(p)},r.onplay=function(){e.onplay&&e.onplay(s.alreadPlayed),s.alreadPlayed=!0};var g="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,f=g.replace(/hidden/i,"visibilitychange");document.addEventListener(f,n),s.clearTimmer=i}}};return s.preload(a),s},encodeUrl:function(e){for(var t=Vijs.Util.base64Coder.encode(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",n=i.split(""),r=o.split(""),a={},s=0,d=n.length;s<d;s++)a[n[s]]=r[s];var l="";return t.split("").forEach(function(e,t,i){l+=a[e]?a[e]:e}),l},decodeUrl:function(e){for(var t="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=t.split(""),n=i.split(""),r={},a=0,s=o.length;a<s;a++)r[o[a]]=n[a];var d="";return e.split("").forEach(function(e,t,i){d+=r[e]?r[e]:e}),Vijs.Util.base64Coder.decode(d)}};var Vijs=Vijs||{};Vijs.videoBannerPlayer=Vijs.videoBannerPlayer||{scrollingUnits:[],initOnce:!1,checkScroll:function(){var e=this,t=null;Vijs.Util.domHelper(window).bind("scroll",function(){t&&window.clearTimeout(t),t=window.setTimeout(function(){for(var t=0,i=e.scrollingUnits.length;t<i;t++){var o=e.scrollingUnits[t],n=(document.body.scrollHeight,window.innerHeight),r=document.documentElement.scrollTop||document.body.scrollTop;if(o.frame){var a=o.frame.el,s=r+a.getBoundingClientRect().top,d=document.documentElement.scrollTop||document.body.scrollTop;d<=s&&d+n>s||d<=s+a.clientHeight&&d+n>=s+a.clientHeight?(o.rewardvideo&&(o.rewardvideo.play(),o.rewardvideo.setAttribute("canview","true")),Vijs.Configer.isLogShow&&console.log("video inside view")):(o.rewardvideo&&(o.rewardvideo.pause(),o.rewardvideo.setAttribute("canview","false")),Vijs.Configer.isLogShow&&console.log("video ouside view"))}}},200)})},triggerAutoplay:function(){var e=this;Vijs.Util.domHelper(window.document.body).bind("touchstart",function(){for(var t=0,i=e.scrollingUnits.length;t<i;t++){var o=e.scrollingUnits[t];if(o.rewardvideo){var n=o.rewardvideo.hasTriggerAutoplay;if(1!=n&&(o.rewardvideo.hasTriggerAutoplay=!0,1==o.rewardvideo.paused)){o.rewardvideo.play();var r=(document.body.scrollHeight,window.innerHeight),a=document.documentElement.scrollTop||document.body.scrollTop,s=o.frame.el,d=a+s.getBoundingClientRect().top,l=document.documentElement.scrollTop||document.body.scrollTop;l<=d&&l+r>d||l<=d+s.clientHeight&&l+r>=d+s.clientHeight?o.rewardvideo.setAttribute("canview","true"):setTimeout(function(){o.rewardvideo.pause()},50)}}}})},checkRotate:function(){var e=this;Vijs.Util.domHelper(window).bind("orientationchange",e.orientationchange),Vijs.Util.domHelper(window).bind("resize",e.orientationchange)},checkHistoryBack:function(){var e=this;Vijs.Util.domHelper(window).bind("popstate",function(t){if(t.state){var i=t.state;if("popup"==i.state)for(var o=0,n=e.scrollingUnits.length;o<n;o++){var r=e.scrollingUnits[o];r.adUnit.unitid==i.unitid&&r.doClose({needToReload:r.needToReload})}console.log(i)}})},orientationchange:function(e){for(var t=0,i=Vijs.videoBannerPlayer.scrollingUnits.length;t<i;t++){var o=Vijs.videoBannerPlayer.scrollingUnits[t];if(1==o.bannerIsPopup||1==e){var n=o.frame;n.el.clientWidth<n.el.clientHeight?n.el.contentWindow.document.body.className="fullscreen":n.el.contentWindow.document.body.className="landscape"}}},init:function(e,t,i){0==this.initOnce&&(this.checkScroll(),this.checkRotate(),this.checkHistoryBack(),this.triggerAutoplay(),this.initOnce=!0);var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VHQRUAAAAMnRSTlMApbv0+/l7QAbXqpFFPikVZDcmEwvw7Goxzcmfl3ZwWebgtF7227iwmoyATRoPxMK9ICnpSVAAAAHLSURBVFjD7ZjrboJAEEYpCxYV74hVa6u22nrr5bz/wzVlhFRrRHE3rcmeP0wW+EhmZmdncCwWi8VisWikduMYoqZYOGYoA03HCC0Fqu4Y4RHoB44RhsCDZs2tGzYT6Da0Kt+qkhghcK9XGS8U8wW8tkbp0INxRzzjQfWiNAt382AEDMWsgOoUFu7Mobz7+jt4d/JVYFRU+W4GsNxZa/vgijmAfkHllQLgZhvBplyrQCuxekCxQC4RRDpUvvih8QwVsTwoFRCOKvyUbigYyJ1X8DeJ5cLb+cqffTLpzA+PEgHgKbFK4EdnF+SYPeloDGW5OYMXeQqonaQXLOfuFp89aQnabWItIJYX/FNr1JAd9qSjblo0VkBdjgRZyuf5iLTsvolspMztU8nxfDgu3QTWiRVDKY1tWYd0O3P2AF7TFJnokA6ypJuniw/Q1SHtdKGXen2a+sgzJ405h/jmwhgbTD6DW+avN3owmrpbVNHylE+9X7So5hNUjRwFwio2cYAJa9fIsSuMfICl5mZBaM1gvP7V4nxc1uII0VOv4ZhozISj7eT/bIJzWvfrGDgOjUnXMNwdGEmvZZDeH/+v46fF968Wi8VisVgsp/IFvuqQLN38nbwAAAAASUVORK5CYII=",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAaVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8G612AAAAInRSTlMA/Falu/ovWDT1gHAsBrhuHBTp3dCfd3NBDOvVrJBfUUsoyT8FHwAAAQJJREFUWMPt1sluwzAMRVFKtVXPQ5Jm6Fz+/0fWARzQMBeOAmoR4J2dvLiAB1oiAAAAAIBnVpxbSmLsmD9GSiDseVKRvZ+Sr17IXMW8Sjd9WN1W31C8yyev0yHn3NOCny4EijUcWKXraeH8ouyYuaZI53fW6cLd2lJ2Bd2jrbpslrNKT16XbS+LbW8sVHrZji5TuZGWdmyZeCstbSkbpaUtZaO0tKVsmSbv5vIzpX2yB+KTvUavPj6rkfFqZKwG3T866O2xy2alSqucLOL8Hax+qlr7pdMnKUv7RPF+d9YbmBgyte3Wq1CoG3rMMZdziLViz7wbKInLdz8SAAAAAABs+Ae+30YwuKjrmQAAAABJRU5ErkJggg==",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK8AAAAaCAYAAADBlQyzAAAGjUlEQVR42s3bfWxNZxzA8VPaWjEW9V59s3qrUi8ZSVNLtrAtDK2MZOJlM7PsxZaMsJA0ITFkTIJJZrJF+gcjGUsEQyVqZtZsXualU0PWCus0ZV4uvff27PvYQ66Te8499z7POSX5/OM+z3O+p/1F3HNbwzRNw07TpUI7xWjGQoc1fpoIE7OfkJ5ZsqfkCekRdqIR6W73OM3GQ9XV1SoWohnFiew3nId3cDRJqALfnME30d1mnV9ScF72XEWHFu5pLztETw3atHCP8KLsEda53efx8HbDTZioQpLe4b04KJoZMCN8ZbPOLx9bej5t4Z5llp55LdzTGicjeoIY4Gavx8O7UQ7uQzO0Dm/wz0FW7VAHM0IIhVHW+qEzGi09AeS2UE+2vH5kj+jr0kI9wtuWHmG3m70eDm8hQpbhrUM7fcN7ocBqCcwoKqKs9cN6m55tLdSz1aZnQwv1dMA1m6aXY+33cHgrLIP70BJ9w1szMFIm7sC0UWJZ77V8BG1amlHsc0+RvG60HtFZ4HOPsMLh+3UayU77PRreiTaDK9xBpp7h/SM/UjlMB+eRatnjpb0xeqqQ5FOLuM6xGD0/+Pi1EXJxL0bT+05neDC8KTjvMLxCuZ7hrR7QBWNQhmaYMWxGKXJheKAHXsEKFy3CF5iALI96xLnjsc5lzwrZ39OjnmQUYBoqXfT8g/dQhPbW8zQOby5KsTnG4Jry0VkZxqBLzOENnuvfCn0xBcuxB3UwFTTiENZiFoYhFYYLycjH61iJfahX7GnAAazGTBQixWVPilw/A6vkOQ2KPfXyvlbK+yyQ92241AGjMBebUIWAQk8YF7AdizEOveIc3lQMwyysxSE0uhhYJ+KN3B4sxxT0RasHwxs60/9z3ILpgybsRxoMG18j4FPPfWxHsk2L+Pttcp0fPQF5/0kOX5/eOItmn5oaMD3G8KbhAJoUB9WtW1hjhE7364gqmD6oRwEMB11xzqeeWuTG6MmR6/zoqUa3GD3CZIR8avoGSS7+5R2Eep+GV3yo0fFBQOj3vuk4BdNDNzAUhgu9UONxz1X0cdmThyse91yQ9224NB0hj5u2onUc/20YihseD+4ppD/2hi10sk8XnIXpgZsYCSMO2fjLo556DIyzJ1/u86KnFjlx9giz0exR03dISeAN28iIj311Oxv5Ju6xkPCJZzNQA1OjOxgFIwF5qNPc04ghCfYUokFzzxV5n0aC5mruEXYjVeFpwyj5zFbn4NYgw/FRWfi33lm4DFODAEbDUDAA9Zp6bmCEYs9z8hwdPeK+8hV7hPmaeoQDaCvOVXxUNhoBTYN7GVmunvOGf83NQy1MBfcxFoYGg3FdsecOijX1FOG2Yk8DCjX1CGWKPcJhtH14pobnvGNxX3Fwa5EX14cU4aqcl2AqWApDo6mKPR9q7vlAsWea5h5hv0JPCB0jz9P0IcVSxeEdE/cnbM2/5JTCVLAGhkZzFHsWae75RLHnHc09wlHFph6R52ka3tWKw1sa//Aey54PU8FOGBotV+zZpLlno2LPCs09wjXFpqLI8zQN707F4Z0X//AezVoPU8EJGBptUeyp0NyzT7HnW8097RR7hKmRZ2oa3hOKw7s+/uH9KXMXTAU3YGh0VLHnouaeGsWeY5p7Bir2CIsjz9Q0vKofWuyKf3iP9DoL00EgxutCOgxN6mNc616M14NI1tTSGk2KPdc1fm2EV118P2I1bYo8U8PwprsYzliP087EP7w/ZtyFGUU15iANY3HQZp0wHIYG7RyucRzT0AaTcMRhbY6mniyHa/wsO9rIruMOa5/W1CPMtblGE8oxBJ1Rhr9t1lZEnqlheIc7DOVBjMNTmFP9/59o6+7GN7yHM3rAtKjEBLSCYTEcWxC07HktytpEDIzSsw+jbdYX43uELXte0NTzvOXcsLzeKJv1onMvmi37BmnqEVZbzv4Xq5AZZW0a3kWNZc+lx9apD+9kyyAGsUUOtXWt+DHHCaiMMsDd3Q9vZc8imAhjG0bAcCEba3Bb7l/gcl8s4+V5TSjHEJf7+uFLBOT+tzT1vCHPC8jz+7ncN1j2N8n9EzX1CDvkmVewEM+42NMKk3BE7g0i+dHr6sO7IPJHGJHt8ofXR2A7wnJ/kfvhPdSjBBuQByMBnbAIZQnut5qJz5CZ4P6uWIKPNPWIc5bJcxPZnynv501NPUK5/DqlJri/CDuQ9ejv1IdX/EbEInRK8Bc1xSdrG1AS7fX/AKu/y4kqcPIqAAAAAElFTkSuQmCC",a=this,s=t.ads[0],d={adUnit:e,network_type_video:Vijs.Configer.getNetworkStatus(),startPlayTime:0,videoUrl:"",loadComplete:!1,warpper:null,frame:null,rewardvideo:null,onload:null,hasBlock:!1,canPlay:!0,startLoadTime:0,loadDuration:0,videoLoadSuccessTimmer:null,play_percent:0,rewardHost:s.notice_url.split("/")[2],setting:t.setting,closeButtonEl:null,needToReload:!1,downloadBtn:null,tracking:s.ad_tracking||{play_percentage:[{rate:0,url:""},{rate:25,url:""},{rate:50,url:""},{rate:75,url:""},{rate:100,url:""}],mute:[""],unmute:[""],endcard_show:[""],close:[""],pause:[""]},preload:function(t){function d(){if(c.videoLoadSuccessTimmer&&window.clearTimeout(c.videoLoadSuccessTimmer),c.render(),1!=f){f=!0,c.loadComplete=!0,i&&i(),c.onload&&c.onload();var e=(new Date).getTime(),t=e-g;c.loadDuration=t,0!=c.needToShowVideo&&Vijs.Logger.post({eventType:"bannerVideoLoadSuccess",offer_id:s.id,duration:t,video_size:s.video_size})}}function l(t){Vijs.Logger.post({eventType:"videoLoadFail",offer_id:s.id,videoUrl:p,reason:t?t.type.toString():"load error",notice_url:s.notice_url,unit_id:e.unitid})}var c=this,u=[s.icon_url,s.image_url],p=a.decodeUrl(t.video_url);c.videoUrl=p;var g=(new Date).getTime();c.startLoadTime=g;var f=!1,h=Vijs.Util.domHelper("div"),m=Vijs.Util.domHelper("div"),v=Vijs.Util.domHelper("iframe");c.warpper=h,c.frame=v,h.css({position:"relative","background-color":"black",width:"100%",height:0,"padding-top":"83.33%",overflow:"hidden",opacity:"1",margin:0,border:0}),m.css({position:"absolute",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,"z-index":10,overflow:"hidden",opacity:"1",margin:0,padding:0,border:0});var b=Math.floor(Vijs.Configer.currentScreen.width/12),w=0;Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;v.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none",margin:0,padding:0,border:0}).insertTo(m),m.insertTo(h);var y=Vijs.Configer.os.ua.toLowerCase(),V=Vijs.Configer.os.isVideoCover?"position:fixed;top:0px;margin-top:2%;margin-left:2%;background-color:grey;border-radius:"+Math.floor(b/2)+"px":"position:absolute;bottom:"+w+"px",j=y.indexOf("liebao")>0?"none":"block",C=Vijs.Configer.os.isVideoCover?'<div class="coverbar"> </div>':"",_='<!doctype html><html lang="en"><head><meta charset="UTF-8"><title>video player</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><style type="text/css">*{margin:0;border:0;padding:0;color:#4b4b4b}body{background-color:#f7f8f9;}a{text-decoration:none;}html,body,.video_bg,.warp{display:block;width:100%;height:100%}.bottom_info{position:relative;width:100%;height:0;padding-top:30%;z-index:2;}.bottom_info .inner{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0}.video_bg{opacity:1;position:relative;width:100%;height:0;padding-top:56.33%}.video_bg .inner{position:absolute;width:100%;top:0;left:0;right:0;bottom:0;z-index:2;);background-repeat:no-repeat;background-size:cover}#bg{position:absolute;width:100%;top:0;left:0;right:0;bottom:0;background-image:url('+s.image_url+");background-repeat:no-repeat;background-size:cover;z-index:1}#bg.blur{moz-filter: blur(10px);-webkit-filter: blur(10px);-o-filter: blur(10px);-ms-filter: blur(10px);filter: blur(10px);}.video_bg .inner video{width:100%;height:100%}.warp{position:absolute;z-index:999}.center{display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;display:-moz-box;-moz-box-orient:horizontal;-moz-box-pack:center;-moz-box-align:center;display:-o-box;-o-box-orient:horizontal;-o-box-pack:center;-o-box-align:center;display:-ms-box;-ms-box-orient:horizontal;-ms-box-pack:center;-ms-box-align:center;display:box;box-orient:horizontal;box-pack:center;box-align:center}video{display:block;width:100%;height:100%;position:relative}#videocover{position:absolute;z-index:100;left:0;right:0;top:0;bottom:0;background-color:transparent}.playContainer{position:relative;float:left;padding:0}.playContainer li{position:relative;float:left;border:60px solid rgba(0,0,0,.3);color:rgba(255,0,0,.3);height:0;width:0;-webkit-border-radius:100%;-moz-border-radius:100%;-o-border-radius:100%;border-radius:100%;margin:0 20px}.playContainer span{border-style:solid;text-indent:-9999px;position:absolute;top:-24px;left:-9px}.playBtn span{border-color:transparent transparent transparent #fff;border-width:24px 0 24px 36px;width:0;height:0}#muted{display:"+j+";"+V+";z-index:2147483647;left:"+w+"px;width:"+b+"px;height:"+b+"px}#muted.sound{background-image:url("+o+");background-size:contain}#muted.mut{background-image:url("+n+");background-size:contain}#preloadvideo{position:fixed;top:-1;left:-1;width:1px;height:1px;z-index:999;opacity:.1}#icon{width:71.42%;height:auto;margin-left:21.42%;margin-right:10.14%;position:relative;display:inline-block}#info_warp{text-decoration:none;display:table;background-color:#f7f8f9}#info_warp>div{display:table-cell;vertical-align:middle;font-size:0}#info_warp .left{width:23.33%}.mid{position:relative;width:46.6%}h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:.5rem;line-height:.5rem;width:1rem;font-size:.3rem;margin-left:0.2rem}.right{text-align:center}.right .download{text-align:center;display:inline-block;background-color:#f7cd30;padding:.1rem .2rem;border-radius:.1rem;font-size:.25rem}.star{display:inline-block;margin-top:.1rem;margin-left:0.2rem;width:60%;height:.3rem;background-image:url("+r+');background-repeat:no-repeat;background-size:contain;background-position:left}.bottom_info.banner,.bottom_info.fullscreen{display:none}.banner .bottom_info.banner,.fullscreen .bottom_info.fullscreen{display:block}.icon_mid{ width: 100%; padding-top: 8%; text-align: center;background-color:#f7f8f9; } #icon_f{ width: 21%;margin-bottom:3%; height: auto; } .bottom_info.fullscreen{ position: relative; width:100%; padding-top: 0; } .bottom_info.fullscreen h2{ width: 100%; display: block; margin: 0 auto; font-size: 0.5rem; line-height: 0.5rem; height: 0.5rem; } .desc{ width: 80%; font-size: 0.3rem; text-align: center; display: block; margin: 0.2rem auto 0 auto; } .bottom_info.fullscreen .star{ display: block; margin: 0.2rem auto;background-position:center; } .bottom_info.fullscreen a{ text-align: center; display: block; width: 40%; margin: 0.8rem auto 0 auto; background-color: #f7cd30; padding: 0.1rem 0.2rem; border-radius: 0.1rem; font-size: 0.30rem; } .landscape .bottom_info{ display: none !important; }.landscape .bottom_info.banner{display: block !important;position: fixed;bottom: 0px;padding-top: 20%;}.landscape .bottom_info.banner .inner{background-color: rgba(225,225,225,0.5) !important;}.coverbar{display:none;}.fullscreen .coverbar{position: relative;width: 100%;padding-top: 12%;height: 0px;display:block;}</style></head><body class="banner">'+C+'<div id="video_bg" class="video_bg"><div id="bg"></div><div class="inner" id="videoContainer"></div></div><div class="bottom_info banner"><a target="_blank" href="'+s.click_url+'" class="inner" id="info_warp"><div class="left"><img id="icon" src="'+s.icon_url+'"></div><div class="mid"><h2 id="title">'+s.title+'</h2><span class="star"></span></div><div class="right"><span id="download" class="download" class="btnCta jumpUrl maynotjump bounce ctatext" campaignid="196137377">'+s.ctatext+'</span></div></a></div><div class="bottom_info fullscreen"><div class="inner"><div class="icon_mid"><img id="icon_f" src="'+s.icon_url+'"><h2 id="title2">'+s.title+'</h2><p class="desc">'+s.desc+'</p><span class="star"></span> <a id="download" class="download" target="_blank" href="'+s.click_url+'" class="btnCta jumpUrl maynotjump bounce ctatext" campaignid="196137377">'+s.ctatext+"</a></div></div></div></body></html>",A=1e4;c.videoLoadSuccessTimmer=window.setTimeout(d,A);var x=!(y.indexOf("ucbrowser")>=0);Vijs.Util.preloadResourceArray(u,function(){Vijs.Configer.isLogShow&&console.log("banner load complete");var e=Vijs.Util.getDomById(c.adUnit.placeholderid);h.insertTo(e),v.el.contentWindow.document.documentElement.innerHTML=_;var t=v.el.contentWindow.document,i=v.el.contentWindow;c.downloadBtn=t.getElementsByClassName("download");var o=t.documentElement,n="orientationchange"in window?"orientationchange":"resize",r=function(){var e=o.clientWidth;t.getElementById("title").style.width=Math.floor(.466*e)+"px",e&&(o.style.fontSize=Math.floor(100*(e/640))+"px")};if(r(),t.addEventListener){if(i.addEventListener(n,r,!1),t.addEventListener("DOMContentLoaded",r,!1),2==c.setting.dlnet&&9!=Vijs.Configer.os.network_type)return c.needToShowVideo=!1,void d();c.needToShowVideo=!0,x?Vijs.Util.preloadResource(p,d,l,v.el.contentWindow):(Vijs.Util.preloadResource("",null,null),Vijs.Util.preloadResource(p,d,l))}})},hasPopup:!1,popup:function(){var t=this;if(t.downloadBtn&&t.downloadBtn.length>0)for(var i=0;i<t.downloadBtn.length;i++)!function(e){var i=t.downloadBtn[e],o=i.getAttribute("href");o&&(i.removeAttribute("href"),setTimeout(function(){i.setAttribute("href",o)},500))}(i);var o=t.warpper;o.el.parentElement.style.height=o.el.clientHeight+"px",o.css({position:"fixed","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"inherit",height:"inherit",overflow:"inherit",opacity:"1",margin:0,padding:0,border:0,height:"100%"});var n=t.frame;n.el.contentWindow.document.body.className="fullscreen",0==t.hasPopup&&(Vijs.Logger.post({eventType:"bannerMidcardShow",click_type:2,action:"click",offer_id:s.id,video_play:t.play_percent,notice_url:s.notice_url,unit_id:e.unitid}),t.hasPopup=!0),d.showClose(!0);var r={title:"show ad",unitid:e.unitid,state:"popup",url:window.location.href};history.replaceState(r,r.title,r.url),history.pushState(r,"",""),t.rewardvideo&&t.rewardvideo.play()},render:function(e){function t(e){if(1!=l&&1!=n.hasPopup){l=!0;var t=e.target,i=t.getAttribute("id");"mvvideobannerplayer"!=i&&"videoContainer"!=i&&"bg"!=i&&"video_bg"!=i||n.popup(),setTimeout(function(){l=!1},500)}}function i(){function t(){1!=u&&(u=!0,a=r.el.contentWindow.document.getElementById("mvvideobannerplayer"),1==a.muted?(l.className="sound",a.muted=!1,a.volume=1):(a.muted=!0,l.className="mut",a.volume=0),setTimeout(function(){u=!1},500))}function i(){var e=300,t=(a.currentTime,a.duration);a.play(),a.paused&&window.setTimeout(function(){isNaN(t)&&(n.canPlay=!1)},e),n.startPlayTime=(new Date).getTime(),n.duration=s.video_length,a.setAttribute("hasplay","1")}var o=n.tracking.play_percentage;setTimeout(function(){d&&(d.showClose(!1),o[o.length-1].send||(Vijs.Logger.post({url:o[o.length-1].url}),Vijs.Logger.post({eventType:"bannerVideoEnd",reason:"1",offer_id:s.id,notice_url:s.notice_url,unit_id:n.adUnit.unitid,video_length:s.video_length})),o[o.length-1].send=!0,n.play_percent=o[o.length-1].rate)},1e3*s.video_length),r.el.contentWindow.document.getElementById("bg").className="blur",videoContainer=r.el.contentWindow.document.getElementById("videoContainer"),videoContainer.innerHTML='<video id="mvvideobannerplayer" x5-playsinline="true" playsinline="true" webkit-playsinline="true" preload="auto" loop="loop" muted="muted" poster="'+s.image_url+'" src="'+e+'"></video><div id="videocover" class="center"><section class="playContainer"><li class="playBtn"><span href="#" title="start">Start</span></li></section></div><div id="muted" class="mut"></div>',a=r.el.contentWindow.document.getElementById("mvvideobannerplayer"),a.autoplay=!0,a.muted=!0,a.volume=0,n.rewardvideo=a;var l=r.el.contentWindow.document.getElementById("muted"),c=r.el.contentWindow.document.getElementById("videocover");l.ontouchend=t,l.onclick=t;var u=!1;n.videoBlockChecker.check({video:a,videocover:c,onload:function(){setTimeout(function(){1!=a.getAttribute("hasplay")&&(c.style.display="-webkit-box"),c.onclick=i,c.ontouchend=i},300)},onplay:function(e){i(),e||d.showClose(!1),c.style.display="none"},onprocessing:function(e){for(var t=100*parseFloat(e),i=0,r=o.length;i<r;i++)i+1<r&&t>o[i].rate&&t<o[i+1].rate&&1!=o[i].send&&(o[i].send=!0,Vijs.Logger.post({url:o[i].url}),n.play_percent=o[i].rate)},onend:function(){var e=o.pop();1!=e.send&&(o.every(function(e){return 1==e.send})&&(Vijs.Logger.post({url:e.url}),e.send=!0),Vijs.Logger.post({eventType:"bannerVideoEnd",reason:"1",offer_id:s.id,notice_url:s.notice_url,unit_id:n.adUnit.unitid,video_length:s.video_length}))},onblock:function(){0==d.hasBlock&&(Vijs.Logger.post({eventType:"videoStuck",offer_id:s.id,view_length:this.video.currentTime,video_length:s.video_length,unit_id:n.adUnit.unitid,notice_url:s.notice_url}),d.hasBlock=!0,d.showClose(!1))},onpause:function(){a.currentTime>=a.duration||(c.style.display="-webkit-box")}})}function o(e){window.setTimeout(function(){r.el.contentWindow.document.documentElement.innerHTML.length<100&&i();var e=e||s.video_resolution||"1280x720";r.el.contentWindow.document.getElementById("videoContainer"),parseInt(e.split("x")[0]),parseInt(e.split("x")[1]),r.el.contentWindow.innerWidth,r.el.contentWindow.innerHeight},100)}var n=this,e=e||n.videoUrl;if(e&&0!=e.length){var r=(n.warpper,n.frame);Vijs.Util.domHelper(r.el.contentWindow.document.body).bind("click",t);var a,l=!1;Math.floor(Vijs.Configer.currentScreen.width/12),Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;if(0==n.needToShowVideo)return void Vijs.Logger.post({url:s.impression_url});i(),o(s.video_resolution),r.el.contentWindow.addEventListener("resize",function(){o(s.video_resolution)},!1),Vijs.Logger.post({url:s.impression_url})}},play:function(e){this.render(e)},pause:function(){},showClose:function(e){var t=this;t.needToReload;if(0!=e){var t=this,i=this.warpper,o=i.size(),n=Math.floor(o.width/15),r=this.setting.video_skip_time;t.clearCounting&&(t.clearCounting(),r=-100),1==e&&(r=0),t.closeButtonEl&&(t.closeButtonEl.remove(),delete t.closeButtonEl),t.closeButtonEl=Vijs.Render.getCloseButton(n,"righttop",function(){history.back()}),t.closeButtonEl.insertTo(i)}},doClose:function(t){var i=this;i.close(!0);var o=!!t&&(!t.needToReload&&t.needToReload),n=i.frame;n.el.contentWindow.document.body.className="banner",i.videoBlockChecker.clearTimmer&&i.videoBlockChecker.clearTimmer(),e.reload&&1==i.loadComplete&&1==o&&(i.loadComplete=!1,i.scrollingUnits.splice(i.scrollingUnits.indexOf(e),1),e.reload()),i.closeButtonEl&&i.closeButtonEl.remove(),delete i.closeButtonEl},close:function(e){var t=this,i=t.warpper;i.el.style.cssText="position: relative; background-color: black; width: 100%; height: 0px; padding-top: 83.33%; overflow: hidden; opacity: 1; margin: 0px; border: 0px;",t.hasPopup=!1,window.setTimeout(function(){i.el.parentElement.style.height="auto"},100),e&&1==e.popstate},videoBlockChecker:{interval:1e3,bufferTime:1e3*t.setting.hang,startTime:-1,starter:{},timmer:{},videoEle:{},currentTime:0,clearTimmer:null,alreadPlayed:!1,hasComplete:!1,videocover:null,check:function(e){function t(){e.onpause&&e.onpause(),r.currentTime>=r.duration?o():Vijs.Logger.post({url:s.ad_tracking.pause})}function i(){r.currentTime>=r.duration&&o(),window.clearInterval(a.timmer[r]),delete a.starter[r],delete a.timmer[r],r.removeEventListener("pause",i,!1)}function o(){var i=(new Date).getTime();Math.floor((i-a.startTime)/1e3)<Math.floor(3*s.video_length/4)||a.startTime<0||(window.clearInterval(a.timmer[r]),delete a.starter[r],delete a.timmer[r],r.addEventListener("pause",t,!1),r.removeEventListener("ended",o,!1),e.onend&&e.onend(),Vijs.Configer.isLogShow&&console.log("video end!"))}function n(){var e=(r.getAttribute("canview")||"false").toString();if(document[g])a.currentTime=r.currentTime,r.pause(),Vijs.Configer.isLogShow&&console.log("tab hide at ="+a.currentTime);else{if("1"!=r.getAttribute("hasplay")||"false"==e)return;r.currentTime=a.currentTime,r.play(),a.videocover.style.display="none",Vijs.Configer.isLogShow&&console.log("tab show at ="+a.currentTime)}}var r=e.video,a=this;a.videoEle=e.video,a.videocover=e.videocover;var d=0,l=a.interval/1e3,c=a.bufferTime/1e3;a.starter[r]=r.currentTime,a.startTime=(new Date).getTime(),a.timmer[r]=window.setInterval(function(){Vijs.Configer.isLogShow&&console.log(r.currentTime>=r.duration),"1"!=a.videoEle.getAttribute("hasplay")||r.paused||(d+=l);var t=r.currentTime/r.duration;e.onprocessing&&e.onprocessing(t),r.currentTime>=r.duration||Math.abs(a.starter[r]+d-r.currentTime)>c&&"1"==a.videoEle.getAttribute("hasplay")&&(d=r.currentTime+c-a.starter[r],e.onblock&&e.onblock(),Vijs.Configer.isLogShow&&console.warn("video block!"))},a.interval),r.addEventListener("pause",t,!1),r.addEventListener("ended",o,!1);var u=!1,p=window.setTimeout(function(){e.onload&&e.onload(),u=!0},500);r.onloadedmetadata=function(){e.onload&&!u&&e.onload(),p&&window.clearTimeout(p)},r.onplay=function(){e.onplay&&e.onplay(a.alreadPlayed),a.alreadPlayed=!0};var g="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,f=g.replace(/hidden/i,"visibilitychange");document.addEventListener(f,n),a.clearTimmer=i}}};return this.scrollingUnits.push(d),d.preload(s),d},encodeUrl:function(e){for(var t=Vijs.Util.base64Coder.encode(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",n=i.split(""),r=o.split(""),a={},s=0,d=n.length;s<d;s++)a[n[s]]=r[s];var l="";return t.split("").forEach(function(e,t,i){l+=a[e]?a[e]:e}),l},decodeUrl:function(e){for(var t="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=t.split(""),n=i.split(""),r={},a=0,s=o.length;a<s;a++)r[o[a]]=n[a];var d="";return e.split("").forEach(function(e,t,i){d+=r[e]?r[e]:e}),Vijs.Util.base64Coder.decode(d)}};var Vijs=Vijs||{};Vijs.videoNativePlayer=Vijs.videoNativePlayer||{scrollingUnits:[],initOnce:!1,tmplSet:{},checkScroll:function(){var e=this,t=null;Vijs.Util.domHelper(window).bind("scroll",function(){t&&window.clearTimeout(t),t=window.setTimeout(function(){for(var t=0,i=e.scrollingUnits.length;t<i;t++){var o=e.scrollingUnits[t],n=(document.body.scrollHeight,window.innerHeight),r=document.documentElement.scrollTop||document.body.scrollTop;if(o.frame){var a=o.frame.el,s=r+a.getBoundingClientRect().top,d=document.documentElement.scrollTop||document.body.scrollTop;d<=s&&d+n>s||d<=s+a.clientHeight&&d+n>=s+a.clientHeight?(o.bannerVideo&&o.bannerVideo.play(),Vijs.Configer.isLogShow&&console.log("video inside view")):(o.bannerVideo&&o.bannerVideo.pause(),Vijs.Configer.isLogShow&&console.log("video ouside view"))}}},200)})},triggerAutoplay:function(){var e=this;Vijs.Util.domHelper(window.document.body).bind("touchstart",function(){for(var t=0,i=e.scrollingUnits.length;t<i;t++){var o=e.scrollingUnits[t];if(o.bannerVideo){var n=o.bannerVideo.hasTriggerAutoplay;if(1!=n&&(o.bannerVideo.hasTriggerAutoplay=!0,1==o.bannerVideo.paused)){o.bannerVideo.play();var r=(document.body.scrollHeight,window.innerHeight),a=document.documentElement.scrollTop||document.body.scrollTop,s=o.frame.el,d=a+s.getBoundingClientRect().top,l=document.documentElement.scrollTop||document.body.scrollTop;l<=d&&l+r>d||l<=d+s.clientHeight&&l+r>=d+s.clientHeight||setTimeout(function(){o.bannerVideo.pause()},50)}}}})},checkRotate:function(){var e=this;Vijs.Util.domHelper(window).bind("orientationchange",e.orientationchange),Vijs.Util.domHelper(window).bind("resize",e.orientationchange)},orientationchange:function(e){for(var t=0,i=Vijs.videoNativePlayer.scrollingUnits.length;t<i;t++){var o=Vijs.videoNativePlayer.scrollingUnits[t];if(1==o.bannerIsPopup||1==e){var n=o.frame;n.el.clientWidth<n.el.clientHeight?n.el.contentWindow.document.body.className="fullscreen":n.el.contentWindow.document.body.className="landscape"}}},init:function(e,t,i){0==this.initOnce&&(this.checkScroll(),this.checkRotate(),this.triggerAutoplay(),this.initOnce=!0);var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VHQRUAAAAMnRSTlMApbv0+/l7QAbXqpFFPikVZDcmEwvw7Goxzcmfl3ZwWebgtF7227iwmoyATRoPxMK9ICnpSVAAAAHLSURBVFjD7ZjrboJAEEYpCxYV74hVa6u22nrr5bz/wzVlhFRrRHE3rcmeP0wW+EhmZmdncCwWi8VisWikduMYoqZYOGYoA03HCC0Fqu4Y4RHoB44RhsCDZs2tGzYT6Da0Kt+qkhghcK9XGS8U8wW8tkbp0INxRzzjQfWiNAt382AEDMWsgOoUFu7Mobz7+jt4d/JVYFRU+W4GsNxZa/vgijmAfkHllQLgZhvBplyrQCuxekCxQC4RRDpUvvih8QwVsTwoFRCOKvyUbigYyJ1X8DeJ5cLb+cqffTLpzA+PEgHgKbFK4EdnF+SYPeloDGW5OYMXeQqonaQXLOfuFp89aQnabWItIJYX/FNr1JAd9qSjblo0VkBdjgRZyuf5iLTsvolspMztU8nxfDgu3QTWiRVDKY1tWYd0O3P2AF7TFJnokA6ypJuniw/Q1SHtdKGXen2a+sgzJ405h/jmwhgbTD6DW+avN3owmrpbVNHylE+9X7So5hNUjRwFwio2cYAJa9fIsSuMfICl5mZBaM1gvP7V4nxc1uII0VOv4ZhozISj7eT/bIJzWvfrGDgOjUnXMNwdGEmvZZDeH/+v46fF968Wi8VisVgsp/IFvuqQLN38nbwAAAAASUVORK5CYII=",n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAAaVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8G612AAAAInRSTlMA/Falu/ovWDT1gHAsBrhuHBTp3dCfd3NBDOvVrJBfUUsoyT8FHwAAAQJJREFUWMPt1sluwzAMRVFKtVXPQ5Jm6Fz+/0fWARzQMBeOAmoR4J2dvLiAB1oiAAAAAIBnVpxbSmLsmD9GSiDseVKRvZ+Sr17IXMW8Sjd9WN1W31C8yyev0yHn3NOCny4EijUcWKXraeH8ouyYuaZI53fW6cLd2lJ2Bd2jrbpslrNKT16XbS+LbW8sVHrZji5TuZGWdmyZeCstbSkbpaUtZaO0tKVsmSbv5vIzpX2yB+KTvUavPj6rkfFqZKwG3T866O2xy2alSqucLOL8Hax+qlr7pdMnKUv7RPF+d9YbmBgyte3Wq1CoG3rMMZdziLViz7wbKInLdz8SAAAAAABs+Ae+30YwuKjrmQAAAABJRU5ErkJggg==",r="data:image/png;base64,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",a=this,s=t.ads[0],d={
adUnit:e,network_type_video:Vijs.Configer.getNetworkStatus(),startPlayTime:0,videoUrl:"",loadComplete:!1,warpper:null,frame:null,rewardvideo:null,onload:null,hasBlock:!1,canPlay:!0,startLoadTime:0,loadDuration:0,videoLoadSuccessTimmer:null,play_percent:0,rewardHost:s.notice_url.split("/")[2],setting:t.setting,closeButtonEl:null,bannerIsPopup:!1,bannerVideo:null,needToReload:!1,downloadBtn:null,tracking:s.ad_tracking||{play_percentage:[{rate:0,url:""},{rate:25,url:""},{rate:50,url:""},{rate:75,url:""},{rate:100,url:""}],mute:[""],unmute:[""],endcard_show:[""],close:[""],pause:[""]},preload:function(t){function d(){if(c.videoLoadSuccessTimmer&&window.clearTimeout(c.videoLoadSuccessTimmer),c.render(),1!=f){f=!0,c.loadComplete=!0,i&&i(),c.onload&&c.onload();var e=(new Date).getTime(),t=e-g;c.loadDuration=t,0!=c.needToShowVideo&&Vijs.Logger.post({eventType:"nativeVideoLoadSuccess",offer_id:s.id,duration:t,video_size:s.video_size})}}function l(t){Vijs.Logger.post({eventType:"videoLoadFail",offer_id:s.id,videoUrl:p,reason:t?t.type.toString():"load error",notice_url:s.notice_url,unit_id:e.unitid})}var c=this,u=[s.icon_url,s.image_url],p=a.decodeUrl(t.video_url);c.videoUrl=p;var g=(new Date).getTime();c.startLoadTime=g;var f=!1,h=Vijs.Util.domHelper("div"),m=Vijs.Util.domHelper("div"),v=Vijs.Util.domHelper("iframe");h.css({position:"relative",display:"none","background-color":"black",width:"100%",height:0,"padding-top":"83.33%",overflow:"hidden",opacity:"1",margin:0,border:0}),m.css({position:"absolute",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,"z-index":10,overflow:"hidden",opacity:"1",margin:0,padding:0,border:0});var b=Math.floor(Vijs.Configer.currentScreen.width/12),w=0;Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;v.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none",margin:0,padding:0,border:0}).insertTo(m),m.insertTo(h);var y=Vijs.Configer.os.ua.toLowerCase(),V=Vijs.Configer.os.isVideoCover?"position:fixed;top:0px;margin-top:2%;margin-left:2%;background-color:grey;border-radius:"+Math.floor(b/2)+"px":"position:absolute;bottom:"+w+"px",j=y.indexOf("liebao")>0?"none":"block",C=Vijs.Configer.os.isVideoCover?'<div class="coverbar"> </div>':"",_='<!doctype html><html lang="en"><head><meta charset="UTF-8"><title>video player</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><style type="text/css">*{margin:0;border:0;padding:0;color:#4b4b4b}body{background-color:#f7f8f9;}a{text-decoration:none;}html,body,.video_bg,.warp{display:block;width:100%;height:100%}.bottom_info{position:relative;width:100%;height:0;padding-top:30%;z-index:2;}.bottom_info .inner{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0}.video_bg{opacity:1;position:relative;width:100%;height:0;padding-top:56.33%}.video_bg .inner{position:absolute;width:100%;top:0;left:0;right:0;bottom:0;z-index:2;);background-repeat:no-repeat;background-size:cover}#bg{position:absolute;width:100%;top:0;left:0;right:0;bottom:0;background-image:url('+s.image_url+");background-repeat:no-repeat;background-size:cover;z-index:1}#bg.blur{moz-filter: blur(10px);-webkit-filter: blur(10px);-o-filter: blur(10px);-ms-filter: blur(10px);filter: blur(10px);}.video_bg .inner video{width:100%;height:100%}.warp{position:absolute;z-index:999}.center{display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;display:-moz-box;-moz-box-orient:horizontal;-moz-box-pack:center;-moz-box-align:center;display:-o-box;-o-box-orient:horizontal;-o-box-pack:center;-o-box-align:center;display:-ms-box;-ms-box-orient:horizontal;-ms-box-pack:center;-ms-box-align:center;display:box;box-orient:horizontal;box-pack:center;box-align:center}video{display:block;width:100%;height:100%;position:relative}#videocover{position:absolute;z-index:100;left:0;right:0;top:0;bottom:0;background-color:transparent}.playContainer{position:relative;float:left;padding:0}.playContainer li{position:relative;float:left;border:60px solid rgba(0,0,0,.3);color:rgba(255,0,0,.3);height:0;width:0;-webkit-border-radius:100%;-moz-border-radius:100%;-o-border-radius:100%;border-radius:100%;margin:0 20px}.playContainer span{border-style:solid;text-indent:-9999px;position:absolute;top:-24px;left:-9px}.playBtn span{border-color:transparent transparent transparent #fff;border-width:24px 0 24px 36px;width:0;height:0}#muted{display:"+j+";"+V+";z-index:2147483647;left:"+w+"px;width:"+b+"px;height:"+b+"px}#muted.sound{background-image:url("+o+");background-size:contain}#muted.mut{background-image:url("+n+");background-size:contain}#preloadvideo{position:fixed;top:-1;left:-1;width:1px;height:1px;z-index:999;opacity:.1}#icon{width:71.42%;height:auto;margin-left:21.42%;margin-right:10.14%;position:relative;display:inline-block}#info_warp{display:table;background-color:#f7f8f9}#info_warp>div{display:table-cell;vertical-align:middle;font-size:0}#info_warp .left{width:23.33%}.mid{position:relative;width:46.6%}h2{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:.5rem;line-height:.5rem;width:1rem;font-size:.35rem}.right{text-align:center}.right a{text-align:center;display:inline-block;background-color:#f7cd30;padding:.1rem .2rem;border-radius:.1rem;font-size:.25rem}.star{display:inline-block;margin-top:.1rem;margin-left:0.2rem;width:60%;height:.3rem;background-image:url("+r+');background-repeat:no-repeat;background-size:contain;background-position:left}.bottom_info.banner,.bottom_info.fullscreen{display:none}.banner .bottom_info.banner,.fullscreen .bottom_info.fullscreen{display:block}.icon_mid{ width: 100%; padding-top: 8%; text-align: center;background-color:#f7f8f9; } #icon_f{ width: 21%;margin-bottom:3%; height: auto; } .bottom_info.fullscreen{ position: relative; width:100%; padding-top: 0; } .bottom_info.fullscreen h2{ width: 100%; display: block; margin: 0 auto; font-size: 0.5rem; line-height: 0.5rem; height: 0.5rem; } .desc{ width: 80%; font-size: 0.3rem; text-align: center; display: block; margin: 0.2rem auto 0 auto; } .bottom_info.fullscreen .star{ display: block; margin: 0.2rem auto;background-position:center; } .bottom_info.fullscreen a{ text-align: center; display: block; width: 40%; margin: 0.8rem auto 0 auto; background-color: #f7cd30; padding: 0.1rem 0.2rem; border-radius: 0.1rem; font-size: 0.30rem; } .landscape .bottom_info{ display: none !important; }.landscape .bottom_info.banner{display: block !important;position: fixed;bottom: 0px;padding-top: 20%;}.landscape .bottom_info.banner .inner{background-color: rgba(225,225,225,0.5) !important;}.coverbar{display:none;}.fullscreen .coverbar{position: relative;width: 100%;padding-top: 12%;height: 0px;display:block;}</style></head><body class="banner">'+C+'<div class="video_bg"><div id="bg"></div><div class="inner" id="videoContainer"></div></div><div class="bottom_info banner"><div class="inner" id="info_warp"><div class="left"><img id="icon" src="'+s.icon_url+'"></div><div class="mid"><h2 id="title">'+s.title+'</h2><span class="star"></span></div><div class="right"><a id="download" class="download" target="_blank" href="'+s.click_url+'" class="btnCta jumpUrl maynotjump bounce ctatext" campaignid="196137377">'+s.ctatext+'</a></div></div></div><div class="bottom_info fullscreen"><div class="inner"><div class="icon_mid"><img id="icon_f" src="'+s.icon_url+'"><h2 id="title2">'+s.title+'</h2><p class="desc">'+s.desc+'</p><span class="star"></span> <a id="download" class="download" target="_blank" href="'+s.click_url+'" class="btnCta jumpUrl maynotjump bounce ctatext" campaignid="196137377">'+s.ctatext+"</a></div></div></div></body></html>",A=1e4;c.videoLoadSuccessTimmer=window.setTimeout(d,A);var x=!(y.indexOf("ucbrowser")>=0);Vijs.Util.preloadResourceArray(u,function(){c.warpper=h,c.frame=v,Vijs.Configer.isLogShow&&console.log("banner load complete");var e=Vijs.Util.getDomById(c.adUnit.placeholderid);Vijs.videoNativePlayer.tmplSet[c.adUnit.placeholderid]?e.innerHTML="":Vijs.videoNativePlayer.tmplSet[c.adUnit.placeholderid]=Vijs.Util.tmplFunction(c.adUnit.placeholderid);var t=Vijs.videoNativePlayer.tmplSet[c.adUnit.placeholderid]({icon_url:s.icon_url,image_url:s.image_url,star_url:"https://hybird.rayjump.com/offerwall/img/reward/star.png",video_url:p,title:s.title,desc:s.desc,click_url:s.click_url});e.outerHTML='<div id="'+c.adUnit.placeholderid+'">'+t+"</div>",e=Vijs.Util.getDomById(c.adUnit.placeholderid);var i=e.getElementsByTagName("video");i.length>0&&(c.bannerVideo=i[0]),h.insertTo(e),v.el.contentWindow.document.documentElement.innerHTML=_;var o=v.el.contentWindow.document,n=v.el.contentWindow;c.downloadBtn=o.getElementsByClassName("download");var r=o.documentElement,a="orientationchange"in window?"orientationchange":"resize",u=function(){var e=r.clientWidth;o.getElementById("title").style.width=Math.floor(.466*e)+"px",e&&(r.style.fontSize=Math.floor(100*(e/640))+"px")};if(u(),o.addEventListener){if(n.addEventListener(a,u,!1),o.addEventListener("DOMContentLoaded",u,!1),2==c.setting.dlnet&&9!=Vijs.Configer.os.network_type)return c.needToShowVideo=!1,void d();c.needToShowVideo=!0,x?Vijs.Util.preloadResource(p,function(){d()},l,v.el.contentWindow):(Vijs.Util.preloadResource("",null,null),Vijs.Util.preloadResource(p,d,l))}})},hasPopup:!1,popup:function(){var t=this;if(t.downloadBtn&&t.downloadBtn.length>0)for(var i=0;i<t.downloadBtn.length;i++)!function(e){var i=t.downloadBtn[e],o=i.getAttribute("href");o&&(i.removeAttribute("href"),setTimeout(function(){i.setAttribute("href",o)},500))}(i);var o=t.warpper;o.el.parentElement.style.height=o.el.clientHeight+"px",o.css({position:"fixed",display:"block","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px",width:"inherit",height:"inherit",overflow:"inherit",opacity:"1",margin:0,padding:0,border:0,height:"100%"});var n=t.frame;n.el.contentWindow.document.body.className="fullscreen",0==t.hasPopup&&(Vijs.Logger.post({eventType:"nativeMidcardShow",click_type:2,action:"click",offer_id:s.id,video_play:t.play_percent,notice_url:s.notice_url,unit_id:e.unitid}),t.hasPopup=!0),t.rewardvideo&&(t.bannerVideo&&(t.bannerVideo.pause(),t.bannerVideo.style.visibility="hidden",t.bannerVideo.style.display="none"),t.rewardvideo.style.display="block",setTimeout(function(){t.rewardvideo.play()},300),t.bannerIsPopup=!0),Vijs.videoNativePlayer.orientationchange(!0),d.showClose(!0)},render:function(e){function t(e){if(1!=c){c=!0;var t=e.target,i=t.getAttribute("id");"download"!=i&&"muted"!=i&&n.popup(),setTimeout(function(){c=!1},500)}}function i(){function t(){var e=300,t=(l.currentTime,l.duration);l.play(),l.paused&&window.setTimeout(function(){isNaN(t)&&(n.canPlay=!1)},e),n.startPlayTime=(new Date).getTime(),n.duration=s.video_length,l.setAttribute("hasplay","1")}var i=n.tracking.play_percentage;if(setTimeout(function(){d&&(d.showClose(!1),i[i.length-1].send||(Vijs.Logger.post({url:i[i.length-1].url}),Vijs.Logger.post({eventType:"nativeVideoEnd",reason:"1",offer_id:s.id,notice_url:s.notice_url,unit_id:n.adUnit.unitid,video_length:s.video_length})),i[i.length-1].send=!0,n.play_percent=i[i.length-1].rate)},1e3*s.video_length),r.el.contentWindow){r.el.contentWindow.document.getElementById("bg").className="blur",videoContainer=r.el.contentWindow.document.getElementById("videoContainer"),videoContainer.innerHTML='<video id="mvvideonativeplayer" x5-playsinline="true" playsinline="true" webkit-playsinline="true" preload="auto" loop="loop" muted="muted" poster="'+s.image_url+'" src="'+e+'"></video><div id="videocover" class="center"><section class="playContainer"><li class="playBtn"><span href="#" title="start">Start</span></li></section></div><div id="muted" class="mut"></div>',l=r.el.contentWindow.document.getElementById("mvvideonativeplayer"),l.autoplay=!0,l.muted=!0,l.volume=0,n.rewardvideo=l;var o=r.el.contentWindow.document.getElementById("muted"),a=r.el.contentWindow.document.getElementById("videocover");o.ontouchend=function(){l=r.el.contentWindow.document.getElementById("mvvideonativeplayer"),1==l.muted?(o.className="sound",l.muted=!1,l.volume=1):(l.muted=!0,o.className="mut",l.volume=0)},n.videoBlockChecker.check({video:l,videocover:a,onload:function(){setTimeout(function(){1!=l.getAttribute("hasplay")&&(a.style.display="-webkit-box"),a.onclick=t,a.ontouchend=t},300)},onplay:function(e){t(),e||d.showClose(!1),a.style.display="none"},onprocessing:function(e){for(var t=100*parseFloat(e),o=0,r=i.length;o<r;o++)o+1<r&&t>i[o].rate&&t<i[o+1].rate&&1!=i[o].send&&(i[o].send=!0,Vijs.Logger.post({url:i[o].url}),n.play_percent=i[o].rate)},onend:function(){var e=i.pop();1!=e.send&&(i.every(function(e){return 1==e.send})&&(Vijs.Logger.post({url:e.url}),e.send=!0),Vijs.Logger.post({eventType:"nativeVideoEnd",reason:"1",offer_id:s.id,notice_url:s.notice_url,unit_id:n.adUnit.unitid,video_length:s.video_length}))},onblock:function(){0==d.hasBlock&&(Vijs.Logger.post({eventType:"videoStuck",offer_id:s.id,view_length:this.video.currentTime,video_length:s.video_length,unit_id:n.adUnit.unitid,notice_url:s.notice_url}),d.hasBlock=!0,d.showClose(!1))},onpause:function(){l.currentTime>=l.duration||(a.style.display="-webkit-box")}})}}function o(e){window.setTimeout(function(){r.el.contentWindow.document.documentElement.innerHTML.length<100&&i();var e=e||s.video_resolution||"1280x720";r.el.contentWindow.document.getElementById("videoContainer"),parseInt(e.split("x")[0]),parseInt(e.split("x")[1]),r.el.contentWindow.innerWidth,r.el.contentWindow.innerHeight},100)}var n=this,e=e||n.videoUrl;if(e&&0!=e.length){var r=(n.warpper,n.frame),a=Vijs.Util.getDomById(n.adUnit.placeholderid);Vijs.Util.domHelper(a).bind("click",t);var l,c=!1;Math.floor(Vijs.Configer.currentScreen.width/12),Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;if(0==n.needToShowVideo)return void Vijs.Logger.post({url:s.impression_url});i(),o(s.video_resolution),r.el.contentWindow.addEventListener("resize",function(){o(s.video_resolution)},!1),Vijs.Logger.post({url:s.impression_url})}},play:function(e){this.render(e)},pause:function(){},showClose:function(t){var i=this;if(0!=t){var i=this,o=this.warpper,n=o.size(),r=Math.floor(n.width/15),a=this.setting.video_skip_time;i.clearCounting&&(i.clearCounting(),a=-100),1==t&&(a=0),i.closeButtonEl&&(i.closeButtonEl.remove(),delete i.closeButtonEl),i.closeButtonEl=Vijs.Render.getCloseButton(r,"righttop",function(){i.close(!0);var t=i.frame;t.el.contentWindow&&(t.el.contentWindow.document.body.className="banner"),i.videoBlockChecker.clearTimmer&&i.videoBlockChecker.clearTimmer(),e.reload&&1==i.loadComplete&&1==i.needToReload&&(i.loadComplete=!1,e.reload(function(){Vijs.videoNativePlayer.scrollingUnits.splice(Vijs.videoNativePlayer.scrollingUnits.indexOf(e),1)})),i.closeButtonEl&&i.closeButtonEl.remove(),delete i.closeButtonEl}),i.closeButtonEl.insertTo(o)}},close:function(e){var t=this,i=t.warpper;i.el.style.cssText="position: relative;display:none; background-color: black; width: 100%; height: 0px; padding-top: 83.33%; overflow: hidden; opacity: 1; margin: 0px; border: 0px;",t.rewardvideo&&(t.rewardvideo.pause(),t.bannerIsPopup=!1),t.bannerVideo&&(t.bannerVideo.style.visibility="visible",t.bannerVideo.style.display="block"),t.rewardvideo&&(t.rewardvideo.style.display="none"),window.setTimeout(function(){i.el.parentElement&&(i.el.parentElement.style.height="auto")},100)},videoBlockChecker:{interval:1e3,bufferTime:1e3*t.setting.hang,startTime:-1,starter:{},timmer:{},videoEle:{},currentTime:0,clearTimmer:null,alreadPlayed:!1,hasComplete:!1,videocover:null,check:function(e){function t(){e.onpause&&e.onpause(),r.currentTime>=r.duration?o():Vijs.Logger.post({url:s.ad_tracking.pause})}function i(){r.currentTime>=r.duration&&o(),window.clearInterval(a.timmer[r]),delete a.starter[r],delete a.timmer[r],r.removeEventListener("pause",i,!1)}function o(){var i=(new Date).getTime();Math.floor((i-a.startTime)/1e3)<Math.floor(3*s.video_length/4)||a.startTime<0||(window.clearInterval(a.timmer[r]),delete a.starter[r],delete a.timmer[r],r.addEventListener("pause",t,!1),r.removeEventListener("ended",o,!1),e.onend&&e.onend(),Vijs.Configer.isLogShow&&console.log("video end!"))}function n(){if(document[g])a.currentTime=r.currentTime,1==a.bannerIsPopup&&r.pause(),Vijs.Configer.isLogShow&&console.log("tab hide at ="+a.currentTime);else{if("1"!=r.getAttribute("hasplay"))return;r.currentTime=a.currentTime,1==a.bannerIsPopup&&r.play(),a.videocover.style.display="none",Vijs.Configer.isLogShow&&console.log("tab show at ="+a.currentTime)}}var r=e.video,a=this;a.videoEle=e.video,a.videocover=e.videocover;var d=0,l=a.interval/1e3,c=a.bufferTime/1e3;a.starter[r]=r.currentTime,a.startTime=(new Date).getTime(),a.timmer[r]=window.setInterval(function(){Vijs.Configer.isLogShow&&console.log(r.currentTime>=r.duration),"1"!=a.videoEle.getAttribute("hasplay")||r.paused||(d+=l);var t=r.currentTime/r.duration;e.onprocessing&&e.onprocessing(t),r.currentTime>=r.duration||Math.abs(a.starter[r]+d-r.currentTime)>c&&"1"==a.videoEle.getAttribute("hasplay")&&(d=r.currentTime+c-a.starter[r],e.onblock&&e.onblock(),Vijs.Configer.isLogShow&&console.warn("video block!"))},a.interval),r.addEventListener("pause",t,!1),r.addEventListener("ended",o,!1);var u=!1,p=window.setTimeout(function(){e.onload&&e.onload(),u=!0},500);r.onloadedmetadata=function(){e.onload&&!u&&e.onload(),p&&window.clearTimeout(p)},r.onplay=function(){e.onplay&&e.onplay(a.alreadPlayed),a.alreadPlayed=!0};var g="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,f=g.replace(/hidden/i,"visibilitychange");document.addEventListener(f,n),a.clearTimmer=i}}};return this.scrollingUnits.push(d),d.preload(s),d},encodeUrl:function(e){for(var t=Vijs.Util.base64Coder.encode(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",n=i.split(""),r=o.split(""),a={},s=0,d=n.length;s<d;s++)a[n[s]]=r[s];var l="";return t.split("").forEach(function(e,t,i){l+=a[e]?a[e]:e}),l},decodeUrl:function(e){for(var t="vSoajc7dRzpWifGyNxZnV5k+DHLYhJ46lt0U3QrgEuq8sw/XMeBAT2Fb9P1OIKmC",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=t.split(""),n=i.split(""),r={},a=0,s=o.length;a<s;a++)r[o[a]]=n[a];var d="";return e.split("").forEach(function(e,t,i){d+=r[e]?r[e]:e}),Vijs.Util.base64Coder.decode(d)}};var Vijs=Vijs||{};Vijs.endcardPlayer=Vijs.endcardPlayer||{network_type_video:Vijs.Configer.getNetworkStatus(),close_button_delay:0,init:function(e,t,i){var o=t.ads[0],n=[o.icon_url,o.image_url,"https://hybird.rayjump.com/offerwall/img/reward/privacy.png","https://hybird.rayjump.com/offerwall/img/reward/star.png"],r=this;r.close_button_delay=t.setting.close_button_delay;var a={templateUrl:Vijs.Configer.baseSrc+"/endcardTemplate.js?v=8",loadComplete:!1,warpper:null,preload:function(t){function r(t,i){Vijs.Logger.post({eventType:"videoLoadFail",offer_id:o.id,image_url:i,reason:t?t.type.toString():"load error",notice_url:o.notice_url,unit_id:e.unitid}),Vijs.Logger.post({eventType:"endcardShow",network_type_video:e.videoPlayer.network_type_video,network_type_endcard:Vijs.Configer.getNetworkStatus(),offer_id:o.id,image_url:o.image_url,success:0,reason:2,notice_url:o.notice_url,unit_id:e.unitid})}(new Date).getTime();Vijs.Util.preloadResource(a.templateUrl,function(){Vijs.Util.domHelper("script").attr({type:"text/javascript",src:a.templateUrl}).insertTo(document.body),Vijs.Util.preloadResourceArray(n,function(){i&&i();var t=(new Date).getTime(),n=t-e.videoPlayer.startLoadTime;Vijs.Logger.post({eventType:"videoLoadSuccess",offer_id:o.id,duration:e.videoPlayer.loadDuration,full_duration:n,video_size:o.video_size})},r)},r)},render:function(e){var i=Vijs.Util.domHelper("div"),o=Vijs.Util.domHelper("iframe");this.warpper=i,i.css({position:"fixed","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px"});Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height;o.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none"}).insertTo(i),i.insertTo(document.body),o.el.contentWindow.document.documentElement.innerHTML=decodeURIComponent(Vijs.endcardPlayer.template["endcard.v3"].html),setTimeout(function(){o.el.contentWindow.eval(decodeURIComponent(Vijs.endcardPlayer.template["endcard.v3"].js)),o.el.contentWindow.render(t),e&&e()},100)},play:function(t,i){this.render(t),this.showClose(),Vijs.Logger.post({eventType:"endcardShow",network_type_video:e.videoPlayer.network_type_video,network_type_endcard:Vijs.Configer.getNetworkStatus(),offer_id:o.id,image_url:o.image_url,success:1,notice_url:o.notice_url,unit_id:e.unitid})},pause:function(){},showClose:function(){var e=this,t=e.warpper,i=t.size(),o=Math.floor(i.width/15);Vijs.Render.addCountingCloseButton(t,r.close_button_delay,o,"righttop",function(){e.close()})},close:function(){e.reload&&e.reload()}};return a.preload(o),a}};var Vijs=Vijs||{};Vijs.Offer={adUnitArray:[],keepOffsetWhenPageClose:!0,adOffset:0,maxOffset:3,fcaTime:86400,dailyPlayCap:0,defaultAdUnitSetting:{status:1,data:{getpf:1,aqn:1,acn:1,plct:3600,ttct:1,pcrn:100},cache_time:0},onlyImpressionSet:{},init:function(e){this.dailyPlayCap=Vijs.Cache.getLocalStorage("dailyPlayCap");var t=this.setAdUnit(e);return this.getOffer(t)},addAdUnit:function(e){var t=this;t.adOffset=1==t.keepOffsetWhenPageClose?parseInt(Vijs.Cache.getLocalStorage("adoffsetCount")||0):0;var i=Vijs.Util.domHelper("script"),o=e.view||94;i.attr("fetch","1").attr("unitid",e.unitid).attr("view",o),e.android_id&&i.attr("android_id",e.android_id),e.imei&&i.attr("imei",e.imei),e.gaid&&i.attr("gaid",e.gaid),e.deviceid&&i.attr("deviceid",e.deviceid),e.placeholderid&&i.attr("placeholderid",e.placeholderid);var n=this.setAdUnit(i);n.rewardedCallback=e.rewardedCallback,n.loadedCallback=e.loadedCallback;var r=t.getOffer(n);return r},setAdUnit:function(e){var t=this,o=Vijs.Util.domHelper(e);Vijs.Configer.isLogShow&&console.log(adUnitEls[i]);var n=o.attr("fetch","1").attr("unitid"),r=o.attr("view")||"94";r=Vijs.Render.viewType[r]?r:94;var a=Vijs.Render.viewType[r].size.sizeType,s=t.adUnitArray.length,d=o.attr("placeholderid"),l={appid:Vijs.Configer.publisher.appid,apikey:Vijs.Configer.publisher.apikey,adtype:r,sign:Vijs.Configer.publisher.sign,unitid:n,image_size:a,viewType:r,unitofferkey:"mvadunitoffer"+Vijs.Configer.publisher.sign+n+"elid"+s,unitsettingkey:"mvadunitsetting"+Vijs.Configer.publisher.sign+n+"elid"+s,offerfcKey:"mvadunitfc"+Vijs.Configer.publisher.sign+n+"elid"+s,vabofferKey:"vabofferKey"+Vijs.Configer.publisher.sign+n+"elid"+s,adCount:1,el:o,resourceArray:{},videoLoadComplete:!1,endcardLoadComplete:!1,loadComplete:!1,android_id:o.attr("android_id")||"",imei:o.attr("imei")||"",gaid:o.attr("gaid")||"",deviceid:o.attr("deviceid")||""};return l.placeholderid=d,l.setting=t.getAdUnitSetting(l),l.adCount=l.setting.data.aqn&&parseInt(l.setting.data.aqn)>0?parseInt(l.setting.data.aqn):1,l.adCount=l.adCount>=Vijs.Render.viewType[r].offerQuantity?l.adCount:Vijs.Render.viewType[r].offerQuantity,l.tnum=l.setting.data.acn&&parseInt(l.setting.data.acn)>0?parseInt(l.setting.data.acn):1,l.pcrn=l.setting.data.pcrn&&parseInt(l.setting.data.pcrn)>0?parseInt(l.setting.data.pcrn):100,l.offerFcSet=t.getOfferFcSet(l),l.aVbaAds=t.getVbaOffer(l),t.adUnitArray.push(l),l},pullUsedOffer:function(e,t,i){for(var o=Vijs.Render.viewType[t.viewType].offerQuantity,n=0;n<o;n++)e.data.ads.length>0&&i&&i();return e.data.ads.length>=o?e:null},preloadRewardVideoOfferResource:function(e,t,i){var o=this;Vijs.Configer.isLogShow&&console.log("preloadRewardVideoOfferResource"),e.mainSetting=t.setting,e.videoPlayer=null,e.endcardPlayer=null,e.reload=function(t){e.videoLoadComplete=!1,e.endcardLoadComplete=!1,e.loadComplete=!1,e.hasInit=!1,o.getOffer(e),t&&t()},e.videoPlayer=Vijs.videoPlayer.init(e,t,function(o){e.videoLoadComplete=!0;var n=t.ads[0].is_playable?Vijs.playablePlayer:Vijs.endcardPlayer;e.endcardPlayer=n.init(e,t,function(){e.endcardLoadComplete=!0,e.loadComplete=!0,e.loadedCallback&&!o&&e.loadedCallback(),i&&i(),o&&o()})})},preloadBannerVideoOfferResource:function(e,t,i){var o=this;return Vijs.Configer.isLogShow&&console.log("preloadBannerVideoOfferResource"),e.mainSetting=t.setting,e.videoPlayer=null,e.endcardPlayer=null,e.reload=function(t){e.videoLoadComplete=!1,e.endcardLoadComplete=!1,e.loadComplete=!1,e.hasInit=!1,o.getOffer(e),t&&t()},0==t.ads.length?0==e.offset?void(1==o.adOffset&&(o.adOffset=0)):(o.adOffset=0,e.offset=0,void e.reload()):void(e.videoPlayer=Vijs.videoBannerPlayer.init(e,t,function(o){e.videoLoadComplete=!0;var n=t.ads[0].is_playable?Vijs.playablePlayer:Vijs.endcardPlayer;e.endcardPlayer=n.init(e,t,function(){e.endcardLoadComplete=!0,e.loadComplete=!0,e.loadedCallback&&!o&&e.loadedCallback(),i&&i(),o&&o()})}))},preloadNativeVideoOfferResource:function(e,t,i){var o=this;return Vijs.Configer.isLogShow&&console.log("preloadNativeVideoOfferResource"),e.mainSetting=t.setting,e.videoPlayer=null,e.endcardPlayer=null,e.reload=function(t){e.videoLoadComplete=!1,e.endcardLoadComplete=!1,e.loadComplete=!1,e.hasInit=!1,o.getOffer(e),t&&t()},0==t.ads.length?0==e.offset?void(1==o.adOffset&&(o.adOffset=0)):(o.adOffset=0,e.offset=0,void e.reload()):void(e.videoPlayer=Vijs.videoNativePlayer.init(e,t,function(o){e.videoLoadComplete=!0;var n=t.ads[0].is_playable?Vijs.playablePlayer:Vijs.endcardPlayer;e.endcardPlayer=n.init(e,t,function(){e.endcardLoadComplete=!0,e.loadComplete=!0,e.loadedCallback&&!o&&e.loadedCallback(),i&&i(),o&&o()})}))},getOffer:function(e){var t=this,i=[];i=e?[e]:t.adUnitArray;for(var o=0,n=i.length;o<n;o++){var r=i[o];r.hasInit!==!0&&(r.hasInit=!0,function(e){e.platform=Vijs.Configer.os.platform,e.os_version=Vijs.Configer.os.os_version,e.offset=t.adOffset;var i=t.loadPreOffer(e);i?(Vijs.Configer.isLogShow&&console.log("cache offer loaded"),Vijs.Offer.preloadRewardVideoOfferResource(e,i.data,function(){})):(t.adOffset+=e.adCount,Vijs.Configer.isLogShow&&console.log("cache offer is empty"),t.loadRTOffer(e,function(i){Vijs.Cache.setLocalStorage("dailyPlayCap",i.data.setting.daily_play_cap),t.dailyPlayCap=i.data.setting.daily_play_cap,"94"==i.data.ad_type.toString()&&(t.checkDailyPlayCap(e)&&Vijs.Offer.preloadRewardVideoOfferResource(e,i.data,function(){}),e.show=function(){return e.videoPlayer&&e.videoPlayer.play(),e.loadComplete},e.close=function(){e.videoPlayer.close(),e.endcardPlayer.close()},e.pause=function(){e.videoPlayer.pause()}),"286"==i.data.ad_type.toString()&&t.checkDailyPlayCap(e)&&Vijs.Offer.preloadBannerVideoOfferResource(e,i.data,function(){t.setNoticeImpression(i,e.unitid)}),"285"==i.data.ad_type.toString()&&t.checkDailyPlayCap(e)&&Vijs.Offer.preloadNativeVideoOfferResource(e,i.data,function(){t.setNoticeImpression(i,e.unitid)}),t.checkOffset();t.pullUsedOffer(i,e,function(){t.pushOfferFc(i,e)})}))}(r))}if(e)return e},loadRTOffer:function(e,t){var i=this,o={status:-1,data:{ad_type:e.adtype,ads:[],setting:{daily_play_cap:0}},msg:"EXCEPTION_RETURN_EMPTY"};if("mobile"!=Vijs.Configer.os.browserType&&!Vijs.Configer.forceMobileUser){if(t)try{t(null)}catch(n){Vijs.Configer.isLogShow&&console.log(n)}return void Vijs.Logger.post({eventType:"v3_stop_notTargetUser",eventDesc:Vijs.Configer.os.browserType})}var r=i.getUrl(e);Vijs.Util.mobvistaAjax({url:r,type:"get",dataType:"json",contentType:"json",success:function(e){if(1==e.status){if(Vijs.Configer.isLogShow&&console.log("new offer load"),t)try{t(e)}catch(i){Vijs.Configer.isLogShow&&console.log(i)}}else{if(t)try{t(o)}catch(i){Vijs.Configer.isLogShow&&console.log(i)}Vijs.Logger.post({eventType:"v3_return_nosuccess_"+e.msg,eventDesc:r})}Vijs.Configer.isLogShow&&console.log(e)},error:function(e){if(Vijs.Configer.isLogShow&&console.log(e),t)try{t(null)}catch(i){Vijs.Configer.isLogShow&&console.log(i)}Vijs.Logger.post({eventType:"v3_error",eventDesc:r})}})},loadPreOffer:function(e){var t=e.unitofferkey,i=Vijs.Cache.getLocalStorage(t);if(!i)return null;var o=Vijs.Util.dateDiff(i.cache_time,new Date,"second");return Vijs.Render&&i.data.ads.length>=Vijs.Render.viewType[e.viewType].offerQuantity&&o<e.setting.data.plct?i:null},cachePreOffer:function(e,t){var i=this,o=e.unitofferkey;if("mobile"!=Vijs.Configer.os.browserType)return Vijs.Render.viewType[e.viewType].backupUrl&&Vijs.Cache.setLocalStorage(o,null),void Vijs.Logger.post({eventType:"v3_stop_notTargetUser",eventDesc:Vijs.Configer.os.browserType});var n=(new Date).getTime();if(t)return t.cache_time=n,void Vijs.Cache.setLocalStorage(o,t);e.offset=i.adOffset;var r=i.getUrl(e);Vijs.Util.mobvistaAjax({url:r,type:"get",dataType:"json",contentType:"json",success:function(t){if(Vijs.Configer.isLogShow&&console.log("new offer cache"),"success"==t.msg){t.cache_time=n;var a=!1;2==e.setting.data.ttct&&(a=i.preClickOffer(t,e)),0!=a&&(t.pre_click_time=a);var s=parseInt(e.setting.data.acn);if(s>0)for(var d=t.data.ads.length-1;d>=s;d--)t.data.ads.pop();Vijs.Cache.setLocalStorage(o,t)}else Vijs.Render.viewType[e.viewType].backupUrl&&Vijs.Cache.setLocalStorage(o,null),Vijs.Logger.post({eventType:"v3_cache_return_nosuccess_"+t.msg,eventDesc:r})},error:function(e){Vijs.Configer.isLogShow&&console.log(e),Vijs.Logger.post({eventType:"v3_cache_error",eventDesc:r})}}),i.adOffset+=e.adCount,i.checkOffset()},checkOffset:function(){var e=this;e.adOffset>=e.maxOffset&&(e.adOffset=0);var t="adoffsetkey",i=(new Date).getTime(),o=Vijs.Cache.getLocalStorage(t);o?i-o.time>72e5&&(Vijs.Cache.setLocalStorage(t,{time:i}),e.adOffset=0):Vijs.Cache.setLocalStorage(t,{time:i}),1==this.keepOffsetWhenPageClose&&Vijs.Cache.setLocalStorage("adoffsetCount",e.adOffset)},updateDailyPlayCap:function(e){var t=this;t.dailyPlayCap=Vijs.Cache.getLocalStorage("dailyPlayCap");var i="ad"+e.unitid+"lastplay",o="ad"+e.unitid+"playcount",n=(new Date).getTime(),r=Vijs.Cache.getLocalStorage(i)||0;if(0==t.dailyPlayCap||n-r>864e5)return Vijs.Cache.setLocalStorage(i,n),Vijs.Cache.setLocalStorage(o,0),!0;var a=Vijs.Cache.getLocalStorage(o)||0;return!(a>=t.dailyPlayCap)&&(Vijs.Cache.setLocalStorage(o,a+1),!0)},checkDailyPlayCap:function(e){var t=this,i="ad"+e.unitid+"lastplay",o="ad"+e.unitid+"playcount",n=(new Date).getTime(),r=Vijs.Cache.getLocalStorage(i)||0;if(0==t.dailyPlayCap||n-r>864e5)return!0;var a=Vijs.Cache.getLocalStorage(o)||0;return!(a>=t.dailyPlayCap)},getAdUnitSetting:function(e){var t=this.loadPreSetting(e);return t||(t=this.defaultAdUnitSetting,Vijs.Configer.isLogShow&&console.log("set adunit "+e.unitid+" in default setting")),t},loadPreSetting:function(e){var t=e.unitsettingkey,i=Vijs.Cache.getLocalStorage(t);return i?Vijs.Configer.isLogShow&&console.log("adunit "+e.unitid+"'s setting is loaded"):Vijs.Logger.post({eventType:"jssetting_null",eventDesc:t}),i},getUrl:function(e){Vijs.Configer.isLogShow&&console.log(e);var t=this.getOfferFcIds(e),i=this.getOfferTtcIds(e),o=Vijs.Configer.getUrl("offerurl")+"?only_impression=1&app_id="+e.appid+"&unit_id="+e.unitid+"&ping_mode=1&sign="+e.sign+"&content_type="+e.adtype+"&network_type="+Vijs.Configer.os.network_type+"&main_domain="+Vijs.Configer.os.domain+"&screen_size="+Vijs.Configer.os.screen_size+"&platform="+e.platform+"&orientation="+(window.innerWidth>window.innerHeight?2:1)+"&useragent="+navigator.userAgent+"&ad_num="+e.adCount+"&offset="+e.offset+"&os_version="+e.os_version+"&sdk_version="+Vijs.Configer.version+"&image_size="+e.image_size+"&android_id="+e.android_id+"&imei="+e.imei+"&gaid="+e.gaid+"&model="+Vijs.Configer.os.model+"&deviceid="+e.deviceid+"&language="+Vijs.Configer.os.language+"&version_flag=1&api_version=1.1&exclude_ids="+t+"&tnum="+e.tnum+"&ttc_ids="+i;return o+="&client_ip="+Vijs.Configer.clientip,o+="&ts="+(new Date).getTime()},preClickOffer:function(e,t){for(var i=(new Date).getTime(),o=e.data.ads,n=window.navigator.userAgent.toLowerCase(),r=[],a=0,s=o.length;a<s;a++)if(0!=o[a].ttc&&!(e.pre_click_time&&Vijs.Util.dateDiff(e.pre_click_time,i,"second")<o[a].ttc_ct)){var d={};d.id=o[a].id,d.click_url=o[a].click_url,
d.ts=(new Date).getTime(),r.push(d)}var l=this.diffVbaOffer(r,t);if(!l.length)return i;this.cacheVbaOffer(l,t);for(var a=0;a<l.length;a++){var c=l[a].click_url,u=n.indexOf("android")>0&&n.indexOf("uc")>0?"script":"img";this.loadLinkInSilent(c,u,!0)}return i},setImpression:function(e){var t=e.data.ads[0].impression_url;this.loadLinkInSilent(t)},setNoticeImpression:function(e,t){if(!t||!this.onlyImpressionSet[t]){t&&(this.onlyImpressionSet[t]=!0);var i=e.data.only_impression_url;this.loadLinkInSilent(i)}},setNotice:function(e){var t=e.data.ads[0].notice_url;this.loadLinkInSilent(t)},loadLinkInSilent:function(e,t,i){var t=t||"script",o=e,n=t;if(i){n="iframe";var r={url:e,silentTag:t},a=JSON.stringify(r);o=Vijs.Configer.getUrl("silenturl")+"?data="+encodeURIComponent(encodeURIComponent(a))}var s=Vijs.Util.domHelper(n).css({position:"absolute",left:"-9999px",top:"-9999px",width:"1px",height:"1px",opacity:"0.001","background-color":"white"}).attr({src:o});s.insertTo(document.body)},pushOfferFc:function(e,t){var i=t.offerFcSet||{},o=e.data.ads[0].id,n=(new Date).getTime(),r=e.data.ads[0].fca;for(i[o]=i[o]||{fcaArray:[]},i[o].fcaTime=this.fcaTime,i[o].fca=r;i[o].fcaArray.length>r-1&&i[o].fcaArray.length>0;)i[o].fcaArray.shift();i[o].fcaArray.push(n),t.offerFcSet=i;var a=t.offerfcKey;return Vijs.Cache.setLocalStorage(a,i),i},getOfferFcSet:function(e){var t=e.offerfcKey,i=Vijs.Cache.getLocalStorage(t);return Vijs.Configer.isLogShow&&console.log("unit fc set is loaded"),Vijs.Configer.isLogShow&&console.log(i),i},getOfferFcIds:function(e){var t=[],i=e.offerFcSet,o=(new Date).getTime();for(var n in i){var r=i[n].fca,a=i[n].fcaTime,s=i[n].fcaArray;s.length>=r&&Vijs.Util.dateDiff(s[0],o,"second")<a&&t.push(parseInt(n))}return JSON.stringify(t)},getOfferTtcIds:function(e){for(var t=[],i=e.aVbaAds,o=e.setting.data.getpf,n=(new Date).getTime(),r=0;r<i.length;r++){var a=i[r].ts;Vijs.Util.dateDiff(a,n,"second")<o?t.push(i[r].id):i.splice(r,1)}return JSON.stringify(t)},getVbaOffer:function(e){var t=e.vabofferKey,i=Vijs.Cache.getLocalStorage(t);return i?i:[]},cacheVbaOffer:function(e,t){var i=this.getVbaOffer(t),o=i.concat(e),n=t.vabofferKey;Vijs.Cache.setLocalStorage(n,o)},diffVbaOffer:function(e,t){function i(e,t){for(var i=0;i<e.length;i++)if(e[i].id==t)return!0;return!1}var o=this.getVbaOffer(t);if(!o.length)return e;for(var n=[],r=0;r<e.length;r++)i(o,e[r].id)||n.push(e[r]);if(n.length>t.pcrn){var a=n.length-t.pcrn;n=e.splice(a,t.pcrn)}return n}};var Vijs=Vijs||{};Vijs.Render={renderMode:"template_receive_data",viewType:{94:{name:"videoendcard",offerQuantity:1,size:{width:100,height:100,dimension:"scale",sizeType:7},viewBackgroundColor:"transparent",url:"template/full_screen.html",devUrl:"template/full_screen.dev.html",initFrame:function(e,t){if(t){var i=this,o=Vijs.Render.getUrl(i.url,i.devUrl),n=JSON.stringify(t),r="?data="+encodeURIComponent(encodeURIComponent(n))+"&ts="+Math.floor((new Date).getTime()/6e4),a=(e.el.attr("closeable")||"false",e.el.attr("style"),e.el.attr("position")||("mobile"==Vijs.Configer.os.browserType?"bottom":"inline"),Vijs.Util.domHelper("div")),s=Vijs.Util.domHelper("iframe");a.css({position:"fixed","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px"});var d=(Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height,Vijs.Configer.isDevTemplate?o.devUrl:o.url);s.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none"}).insertTo(a).attr("src",d+r),Vijs.Util.replaceEach(a.el,e.el.el);var l=a.size(),c=Math.floor(l.width/15);Vijs.Render.addCloseButton(a,c)}}},285:{name:"nativevideo",offerQuantity:1,size:{width:100,height:100,dimension:"scale",sizeType:7},viewBackgroundColor:"transparent",url:"template/full_screen.html",devUrl:"template/full_screen.dev.html",initFrame:function(e,t){if(t){var i=this,o=Vijs.Render.getUrl(i.url,i.devUrl),n=JSON.stringify(t),r="?data="+encodeURIComponent(encodeURIComponent(n))+"&ts="+Math.floor((new Date).getTime()/6e4),a=(e.el.attr("closeable")||"false",e.el.attr("style"),e.el.attr("position")||("mobile"==Vijs.Configer.os.browserType?"bottom":"inline"),Vijs.Util.domHelper("div")),s=Vijs.Util.domHelper("iframe");a.css({position:"fixed","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px"});var d=(Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height,Vijs.Configer.isDevTemplate?o.devUrl:o.url);s.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none"}).insertTo(a).attr("src",d+r),Vijs.Util.replaceEach(a.el,e.el.el);var l=a.size(),c=Math.floor(l.width/15);Vijs.Render.addCloseButton(a,c)}}},286:{name:"bannervideo",offerQuantity:1,size:{width:100,height:100,dimension:"scale",sizeType:7},viewBackgroundColor:"transparent",url:"template/full_screen.html",devUrl:"template/full_screen.dev.html",initFrame:function(e,t){if(t){var i=this,o=Vijs.Render.getUrl(i.url,i.devUrl),n=JSON.stringify(t),r="?data="+encodeURIComponent(encodeURIComponent(n))+"&ts="+Math.floor((new Date).getTime()/6e4),a=(e.el.attr("closeable")||"false",e.el.attr("style"),e.el.attr("position")||("mobile"==Vijs.Configer.os.browserType?"bottom":"inline"),Vijs.Util.domHelper("div")),s=Vijs.Util.domHelper("iframe");a.css({position:"fixed","z-index":2147483646,top:"0px",left:"0px",right:"0px",bottom:"0px"});var d=(Vijs.Configer.currentScreen.width,Vijs.Configer.currentScreen.height,Vijs.Configer.isDevTemplate?o.devUrl:o.url);s.css({width:"100%",height:"100%",margin:"0",padding:"0",border:"none"}).insertTo(a).attr("src",d+r),Vijs.Util.replaceEach(a.el,e.el.el);var l=a.size(),c=Math.floor(l.width/15);Vijs.Render.addCloseButton(a,c)}}}},getUrl:function(e,t){return Vijs.Configer.host?{url:Vijs.Configer.host+e,devUrl:Vijs.Configer.host+t}:{url:e,devUrl:t}},getCloseButton:function(e,t,i){var o=Vijs.Configer.os.isVideoCover?"grey":"rgba(255,255,255,0.3)",n="rgba(255,255,255,0.3)",r="rgba(255,255,255,1)",t=t||"righttop",a=t.indexOf("top")>=0?"top":"bottom",s=t.indexOf("left")>=0?"left":"right",d=Math.floor(e/2),l=Math.floor(e/3),c=!1,u=Vijs.Util.domHelper("div").css({display:"block",width:e+"px",height:e+"px","line-height":e+"px","text-align":"center",border:"3px solid "+n,"border-radius":d+"px",position:"absolute","z-index":2147483647,"font-family":"arial","font-size":e+"px",color:r,"background-color":o}).css(a,l+"px").css(s,l+"px").bind("click",function(e){1!=c&&(i&&i(),c=!0,setTimeout(function(){c=!1},500),Vijs.Util.cancelBubble(e))}).bind("touchend",function(e){1!=c&&(i&&i(),c=!0,setTimeout(function(){c=!1},500),Vijs.Util.cancelBubble(e))}).html(decodeURIComponent("%C3%97"));return u},addCountingCloseButton:function(e,t,i,o,n){if(t!=-1&&t!=-100){var r=this,a=t,s=Math.floor(2*i/3),d="rgba(255,255,255,0.3)",l="rgba(255,255,255,0.3)",c="rgba(255,255,255,1)",o=o||"righttop",u=o.indexOf("top")>=0?"top":"bottom",p=o.indexOf("left")>=0?"left":"right",g=Math.floor(i/2),f=Math.floor(i/3),h=Vijs.Util.domHelper("div").css({display:"block",width:i+"px",height:i+"px","line-height":i+"px","text-align":"center",border:"3px solid "+l,"border-radius":g+"px",position:"absolute","z-index":2147483647,"font-family":"arial","font-size":s+"px",color:c,"background-color":d}).css(u,f+"px").css(p,f+"px");if(h.insertTo(e),t<=0)return delete h,void r.addCloseButton(e,i,o,n);h.html(a);var m=window.setInterval(function(){a--,a>0?h.html(a):(h.remove(),r.addCloseButton(e,i,o,n),window.clearTimeout(m))},1e3);return function(){h.remove(),r.addCloseButton(e,i,o,n),window.clearTimeout(m)}}},addCloseButton:function(e,t,i,o){var n="rgba(255,255,255,0.3)",r="rgba(255,255,255,0.3)",a="rgba(255,255,255,1)",i=i||"righttop",s=i.indexOf("top")>=0?"top":"bottom",d=i.indexOf("left")>=0?"left":"right",l=Math.floor(t/2),c=Math.floor(t/3);Vijs.Util.domHelper("div").css({display:"block",width:t+"px",height:t+"px","line-height":t+"px","text-align":"center",border:"3px solid "+r,"border-radius":l+"px",position:"absolute","z-index":2147483647,"font-family":"arial","font-size":t+"px",color:a,"background-color":n}).css(s,c+"px").css(d,c+"px").insertTo(e).bind("click",function(e){var t=Vijs.Util.domHelper(this.parentNode);t.attr("jump")||(t.attr("jump",!0),t.remove(),o&&o(),Vijs.Util.cancelBubble(e))}).bind("touchend",function(e){var t=Vijs.Util.domHelper(this.parentNode);t.attr("jump")||(t.css("opacity","0.001").attr("jump",!0),window.setTimeout(function(){t.remove(),o&&o()},500),Vijs.Util.cancelBubble(e))}).html(decodeURIComponent("%C3%97"))},template:{init:function(e,t){switch(Vijs.Render.renderMode){case"template_receive_data":var i=Vijs.Util.getQueryString(window.location.href,"data"),e=JSON.parse(decodeURIComponent(i));t(e);break;case"template_request_data":break;case"template_within_data":t(e),Vijs.Offer.preClickOffer(e),Vijs.Offer.setNoticeImpression(e);break;case"local_request_data":}}},renderAction:{template:function(e,t,i){i&&i()},local:function(e,t,i){}},renderOffer:function(e,t,i){Vijs.Configer.isLogShow&&console.log(t.el.el);var o=this,n=(o.renderMode,t.viewType),r=e?JSON.parse(JSON.stringify(e)):null;if(r&&r.data&&r.data.only_impression_url&&(delete r.cache_time,delete r.msg,delete r.data.only_impression_url,delete r.data.parent_session_id,delete r.data.session_id,delete r.data.unit_size,r.data.ads))for(var a=o.viewType[t.viewType].offerQuantity,s=r.data.ads.length-1;s>=0;s--)s+1>a?r.data.ads.pop():(delete r.data.ads[s].ad_source_id,delete r.data.ads[s].c_ct,delete r.data.ads[s].click_mode,delete r.data.ads[s].fca,delete r.data.ads[s].fcb,delete r.data.ads[s].ttc,delete r.data.ads[s].ttc_ct,delete r.data.ads[s].impression_url);o.viewType[n].initFrame(t,r),r&&i&&i()},takeAction:function(e,t,i,o){e.attr("notice")||(e.attr("notice",!0),setTimeout(function(){e.el.removeAttribute("notice")},500),Vijs.Offer.setNotice(o)),e.attr("jump")||(e.attr("jump",!0),setTimeout(function(){e.el.removeAttribute("jump")},500),e.attr("href",t))}};var Vijs=Vijs||{};Vijs.Logger={debug:!0,uploadLog:!0,postType:"MV",init:function(){this.debug="true"==Vijs.Util.getQueryString(window.location.href,"mvLogDebug")||(Vijs.Configer.isLogShow||!1)},post:function(e){var t=this;if(1==this.uploadLog){var i=t.loggerSet[e.postType]?t.loggerSet[e.postType]:t.loggerSet[t.postType];i.doPost(e)}},loggerSet:{GA:{hasInit:!1,checkEnable:!0,GAId:"UA-62639739-1",_loadGA:function(e){var t=this;!function(e,t,i,o,n,r,a){e.GoogleAnalyticsObject=n,e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},e[n].l=1*new Date,r=t.createElement(i),a=t.getElementsByTagName(i)[0],r.async=1,r.src=o,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",t.GAId,"auto"),ga("send","pageview"),t.hasInit=!0,e&&e()},doPost:function(e){var t=this;1==t.hasInit?t._doPost(e):t._loadGA(function(){t._doPost(e)})},_doPost:function(e){var t=parseInt(e.eventValue);isNaN(t)?ga("send","event","JSSDK_"+e.eventType,e.eventDesc,t):ga("send","event","JSSDK_"+e.eventType,e.eventDesc)}},MV:{doPost:function(e){var t=this,i=e.eventType;switch(i){case"videoStuck":t._videoStuck(e);break;case"cookieInfo":t._cookieInfo(e);break;case"videoClose":t._videoClose(e);break;case"videoEnd":t._videoEnd(e);break;case"videoLoadSuccess":t._videoLoadSuccess(e);break;case"videoLoadFail":t._videoLoadFail(e);break;case"endcardShow":t._endcardShow(e);break;case"bannerMidcardShow":t._bannerMidcardShow(e);break;case"bannerVideoLoadSuccess":t._bannerVideoLoadSuccess(e);break;case"bannerVideoEnd":t._bannerVideoEnd(e);break;case"nativeMidcardShow":t._nativeMidcardShow(e);break;case"nativeVideoLoadSuccess":t._nativeVideoLoadSuccess(e);break;case"nativeVideoEnd":t._nativeVideoEnd(e);break;default:e.url&&t._postToUrl(e)}},_bannerVideoEnd:function(e){var t={key:"5000056",network_type:Vijs.Configer.os.network_type,reason:e.reason,offer_url:e.notice_url,rid:Vijs.Util.getQueryString(e.notice_url,"k"),platform:Vijs.Configer.os.platform,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version};this._postToServer(t)},_bannerVideoLoadSuccess:function(e){var t={key:"5000057",cid:e.offer_id,duration:e.duration,loadsuccess_duration:e.full_duration,network_type:Vijs.Configer.os.network_type,video_size:e.video_size,image_size:e.image_size,video_length:e.video_length,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version,platform:Vijs.Configer.os.platform};this._postToServer(t)},_bannerMidcardShow:function(e){var t={key:"5000069",cid:e.offer_id,click_type:e.click_type,action:e.action,video_play:e.video_play,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,platform:Vijs.Configer.os.platform,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version};this._postToServer(t)},_nativeMidcardShow:function(e){var t={key:"5000068",cid:e.offer_id,click_type:e.click_type,action:e.action,video_play:e.video_play,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,platform:Vijs.Configer.os.platform,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version};this._postToServer(t)},_nativeVideoLoadSuccess:function(e){var t={key:"5000055",cid:e.offer_id,duration:e.duration,loadsuccess_duration:e.full_duration,network_type:Vijs.Configer.os.network_type,video_size:e.video_size,image_size:e.image_size,video_length:e.video_length,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version,platform:Vijs.Configer.os.platform};this._postToServer(t)},_nativeVideoEnd:function(e){var t={key:"5000054",network_type:Vijs.Configer.os.network_type,reason:e.reason,offer_url:e.notice_url,rid:Vijs.Util.getQueryString(e.notice_url,"k"),platform:Vijs.Configer.os.platform,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version};this._postToServer(t)},_videoStuck:function(e){var t={key:"5000047",cid:e.offer_id,view_length:e.view_length,video_length:e.video_length,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,network_type:Vijs.Configer.os.network_type,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version,ratio:Vijs.Configer.os.ratio,platform:Vijs.Configer.os.platform};this._postToServer(t)},_cookieInfo:function(e){var t={key:"5000048",browser:Vijs.Configer.os.browser,domain_url:Vijs.Configer.os.domain,ua:Vijs.Configer.os.ua,cookie:document.cookie,platform:Vijs.Configer.os.platform};this._postToServer(t)},_videoClose:function(e){var t={key:"5000049",cid:e.offer_id,offer_url:e.notice_url,unit_id:e.unit_id,view_length:e.view_length,video_length:e.video_length,reason:e.reason,platform:Vijs.Configer.os.platform};this._postToServer(t)},_videoEnd:function(e){var t={key:"5000050",cid:e.offer_id,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,ratio:Vijs.Configer.os.ratio,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version,network_type:Vijs.Configer.os.network_type,video_length:e.video_length,platform:Vijs.Configer.os.platform};this._postToServer(t)},_videoLoadSuccess:function(e){var t={key:"5000051",cid:e.offer_id,duration:e.duration,loadsuccess_duration:e.full_duration,network_type:Vijs.Configer.os.network_type,video_size:e.video_size,image_size:e.image_size,video_length:e.video_length,browser:Vijs.Configer.os.browser,browser_os:Vijs.Configer.os.browser_version,platform:Vijs.Configer.os.platform};this._postToServer(t)},_videoLoadFail:function(e){var t={key:"5000052",cid:e.offer_id,network_type:Vijs.Configer.os.network_type,image_url:e.image_url,video_url:e.video_url,reason:e.reason,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,platform:Vijs.Configer.os.platform};this._postToServer(t)},_endcardShow:function(e){var t={key:"5000053",cid:e.offer_id,network_type_video:e.network_type_video,network_type_endcard:e.network_type_endcard,image_url:e.image_url,success:e.success,reason:e.reason,rid:Vijs.Util.getQueryString(e.notice_url,"k"),unit_id:e.unit_id,platform:Vijs.Configer.os.platform};this._postToServer(t)},_postToServer:function(e){var t=Vijs.Configer.getUrl("logserverurl")+"?ts="+(new Date).getTime();for(var i in e)t+="&"+i+"="+e[i];var o=new Image;o.src=t},_postToUrl:function(e){var t=e.url;t+=t.indexOf("?")>=0?"&":"?",t+="ts="+(new Date).getTime();for(var i in e)"url"!=i&&(t+="&"+i+"="+e[i]);var o=new Image;o.src=t}}}};var Vijs=Vijs||{};Vijs.init=Vijs.init||function(e){Vijs.Configer.preInit(e),Vijs.Util.addListener(document,"DOMContentLoaded",function(){var t=window.navigator.userAgent.toLowerCase();if(!(t.indexOf("googlebot")>=0||t.indexOf("search console")>=0)){Vijs.Logger.init(),Vijs.Configer.init(e,function(t){var i=this,o=Vijs.Util.domHelper(e),n=Vijs.Util.domHelper(window);if(t){var r=o.attr("listen-event-loaded"),a=o.attr("listen-event-reward"),s=o.attr("listen-event-getrewardsetting"),s=o.attr("listen-event-getrewardsetting"),d=o.attr("trigger-event-show"),l=o.attr("trigger-event-close"),c=o.attr("trigger-event-pause"),u={unitid:t,loadedCallback:function(){n.trigger(r),s&&n.trigger(s,i.innerAd.getRewardSetting())},rewardedCallback:function(e,t,i){n.trigger(a,[e,t,i])}};i.innerAd=Vijs.setAD(u),d&&n.bind(d,function(){i.innerAd.show()}),l&&n.bind(l,function(){i.innerAd.close()}),c&&n.bind(c,function(){i.innerAd.pause()}),c&&n.bind(c,function(){i.innerAd.pause()})}});var i=Vijs.Cache.getLocalStorage("gct"),o=!i||(new Date).getTime()-parseInt(i)>864e5;o&&(Vijs.Logger.post({eventType:"cookieInfo"}),Vijs.Cache.setLocalStorage("gct",(new Date).getTime()))}})},Vijs.setAD=Vijs.setAD||function(e){var t=Vijs.Offer.addAdUnit(e),i={unitid:e.unitid,show:function(){return!!t&&(!(!Vijs.Offer.updateDailyPlayCap(t)||!t.show)&&t.show())},close:function(){return!(!t||!t.close)&&void t.close()},pause:function(){return!(!t||!t.pause)&&void t.pause()},checkIsLoadComplete:function(){return!!t&&t.loadComplete},getRewardSetting:function(){return!!t&&(t.mainSetting.reward?t.mainSetting.reward[0]:null)}};return i};
//# sourceMappingURL=maps/vijs.js.map
